!function(){var e=document.createElement("style");e.innerHTML='._input_77e7o_2{max-width:100%;padding-top:1.25rem}._input_77e7o_2 ._control_77e7o_5{align-items:center;display:flex;flex-grow:1;margin-bottom:.25rem;position:relative}._input_77e7o_2 ._control_77e7o_5:hover{border-color:var(--color-primary)}._input_77e7o_2 ._control_77e7o_5:after,._input_77e7o_2 ._control_77e7o_5:before{bottom:0;content:"";left:0;position:absolute;right:0;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(0,0,.2,1)}._input_77e7o_2 ._control_77e7o_5:before{border-bottom-width:thin;border-color:inherit}._input_77e7o_2 ._control_77e7o_5:after{--tw-scale-x:0;--tw-scale-y:0;border-bottom-width:2px;border-color:inherit;transform:var(--tw-transform)}._input_77e7o_2 ._controlActive_77e7o_29:after{--tw-scale-x:1;--tw-scale-y:1;transform:var(--tw-transform)}._input_77e7o_2 label{color:var(--color-primary);height:1.5rem;left:0;line-height:1.5rem;margin-left:.5rem;position:absolute;transform-origin:top left;transition-duration:.5s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}._input_77e7o_2 ._labelActive_77e7o_42{--tw-translate-y:-1.5rem;--tw-scale-x:.75;--tw-scale-y:.75;transform:var(--tw-transform)}._input_77e7o_2 input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;flex-grow:1;line-height:1.5;padding:.5rem;width:100%}._input_77e7o_2 input::-moz-placeholder{color:var(--color-medium)}._input_77e7o_2 input:-ms-input-placeholder{color:var(--color-medium)}._input_77e7o_2 input::placeholder{color:var(--color-medium)}._input_77e7o_2 input:focus{outline:2px solid transparent;outline-offset:2px}\n',document.head.appendChild(e),System.register(["./vendor-legacy.df9808f5.js","./index-legacy.4da449d0.js","./index-legacy.9f5bde02.js","./useFormField-legacy.7ff3c2cb.js","./index-legacy.6256bc4e.js","./index-legacy.1ac252df.js","./mobile-auth-legacy.30793645.js","./function-call-legacy.9bcdf916.js","./index-legacy.6bf7f23d.js","./interceptor-legacy.6952aba8.js"],(function(e){"use strict";var t,o,a,l,r,n,i,c,s,u,p,d,m,f,b,_,w,v,h,y,g,x,k,C,$,j,A,V,z,B;return{setters:[function(e){t=e.p,o=e.a$,a=e.d,l=e.l,r=e.bc,n=e.n,i=e.o,c=e.a,s=e.e,u=e.L,p=e.a4,d=e.b8,m=e.aq,f=e.a7,b=e.a8,_=e.t,w=e.g,v=e.ac,h=e.bd,y=e.ag,g=e.ae,x=e.r,k=e.f,C=e.w},function(e){$=e.C},function(e){j=e.B},function(e){A=e.u},function(e){V=e._},function(){},function(e){z=e.u},function(e){B=e.T},function(){},function(){}],execute:function(){var E={input:"_input_77e7o_2",control:"_control_77e7o_5",controlActive:"_controlActive_77e7o_29",labelActive:"_labelActive_77e7o_42"};const L=["for"],S=["id","value","placeholder"],F={key:1,class:"tw-ml-auto tw-pl-1 tw-flex-shrink-0"},q={key:0,class:"tw-absolute tw-top-full tw-left-0"},M={class:"tw-px-2 tw-text-xs tw-text-red-500 tw-font-medium tw-leading-none"},T=a({inheritAttrs:!1}),I=a({...T,props:{name:null,label:{default:""},showLabel:{type:Boolean,default:!1},placeholder:{default:""},showValidationError:{type:Boolean,default:!0},wrapperClass:{default:void 0}},emits:["focus","blur","input","change"],setup(e,{emit:t}){const o=e,a=l(null),v=r(),h=n((()=>!(!v.label&&!o.label))),{listeners:y,errorMessage:g,value:x,meta:k}=A({name:o.name,label:o.label}),C=l(!1),$=()=>{C.value=!0,t("focus")},j=e=>{y.value.onBlur(e),C.value=!1,t("blur")},V=e=>{y.value["onUpdate:modelValue"](e),t("input",e.target.value)},z=e=>{y.value.onChange(e),t("change",e.target.value)},B=n((()=>C.value||k.dirty&&x.value||o.placeholder));return(t,o)=>(i(),c("div",{class:p([t.$style.input,e.wrapperClass,e.showValidationError&&"tw-relative tw-mb-4"])},[s("div",{class:p({[t.$style.control]:!0,[t.$style.controlActive]:C.value})},[e.showLabel&&u(h)?(i(),c("label",{key:0,class:p({[t.$style.labelActive]:u(B)}),for:e.name,onClick:o[0]||(o[0]=e=>a.value.focus()),onTouchstart:o[1]||(o[1]=d((e=>a.value.focus()),["stop"]))},[m(t.$slots,"label",{},(()=>[s("span",null,_(e.label),1)]))],42,L)):f("",!0),s("input",b({id:e.name,ref_key:"input",ref:a,value:u(x),placeholder:e.placeholder},t.$attrs,{onFocus:$,onBlur:j,onInput:V,onChange:z}),null,16,S),t.$slots.append?(i(),c("div",F,[m(t.$slots,"append")])):f("",!0)],2),e.showValidationError&&u(g)?(i(),c("p",q,[s("span",M,[m(t.$slots,"error",{error:u(g)},(()=>[w(_(u(g)),1)]))])])):f("",!0)],2))}}),U={};U.$style=E;var H=V(I,[["__cssModules",U]]),X={};const D={class:"tw-flex tw-flex-col tw-h-screen tw-pt-[15vh] tw-pb-8 tw-px-8"},G=s("header",null,[s("h3",{class:"tw-py-3 tw-text-2xl tw-font-bold"},"手机快捷登录"),s("p",{class:"tw-text-sm tw-text-medium"},"未注册过的手机号将自动创建账号")],-1),J=["onClick"],K={class:"tw-mt-16 tw-text-center"},N={class:"tw-mt-auto tw-flex tw-justify-center tw-text-xs"},O={class:""},P=w(" 登录即代表同意 "),Q=w(" 《用户协议》 "),R=w(" 和 "),W=w(" 《隐私政策》 "),Y=e("default",a({setup(e){const{values:a,validateField:r,isSubmitting:m,handleSubmit:f}=v({validationSchema:{mobile:"required|mobile",authCode:"required|numeric|max:6"},initialValues:{mobile:"",authCode:""}}),b=l(10),{isActive:A,pause:V,resume:E}=h((()=>{b.value--,b.value<=0&&V()}),1e3,{immediate:!1,immediateCallback:!0}),L=n((()=>A.value?`${b.value}s后重新获取`:"获取验证码")),S=async()=>{const{valid:e}=await r("mobile");e&&(A.value||(b.value=10,await(async e=>(await t(1e3),o(1e3)))(a.mobile),E()))},F=l(!1),q=l(""),M=()=>{q.value=""},T=z();y((()=>T.loginError),(e=>{e&&B.fail(e)}));const I=g(),U=f((async e=>{if(!F.value)return B("请先阅读并同意用户协议和隐私政策"),void(q.value="animate__animated animate__shakeX");q.value="",await T.login(e),T.isLoggedIn&&I.replace({name:"mobile"})}));return(e,t)=>{const o=H,a=j,l=x("router-link"),r=$;return i(),c("article",D,[G,s("form",{class:"tw-mt-12",onSubmit:t[0]||(t[0]=d((()=>{}),["prevent"]))},[k(o,{name:"mobile",label:"手机号",type:"text",inputmode:"numeric",maxlength:"11",pattern:"^1\\d{10}",placeholder:"请输入手机号"}),k(o,{name:"authCode",label:"验证码",type:"text",inputmode:"numeric",autocomplete:"one-time-code",maxlength:"6",pattern:"\\d{6}",placeholder:"请输入验证码"},{append:C((()=>[s("a",{class:p(u(A)?"tw-text-slate-400/75":"tw-text-primary"),onClick:d(S,["prevent"])},_(u(L)),11,J)])),_:1}),s("div",K,[k(a,{class:"tw-w-11/12",type:"primary",round:"",loading:u(m),onClick:u(U)},{default:C((()=>[w(_(u(m)?"登录中...":"登录"),1)])),_:1},8,["loading","onClick"])])],32),s("footer",N,[k(r,{modelValue:F.value,"onUpdate:modelValue":t[1]||(t[1]=e=>F.value=e),class:p(q.value),"icon-size":"16px",onAnimationend:M},{default:C((()=>[s("span",O,[P,k(l,{class:"tw-text-primary",to:"/mobile/user-agreement"},{default:C((()=>[Q])),_:1}),R,k(l,{class:"tw-text-primary",to:"/mobile/privacy-policy"},{default:C((()=>[W])),_:1})])])),_:1},8,["modelValue","class"])])])}}}));"function"==typeof X&&X(Y)}}}))}();
