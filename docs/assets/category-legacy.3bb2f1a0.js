!function(){var e=document.createElement("style");e.innerHTML=":root{--van-pull-refresh-head-height:50px;--van-pull-refresh-head-font-size:var(--van-font-size-md);--van-pull-refresh-head-text-color:var(--van-text-color-2);--van-pull-refresh-loading-icon-size:16px}.van-pull-refresh{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.van-pull-refresh__track{height:100%;position:relative;transition-property:transform}.van-pull-refresh__head{color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);height:var(--van-pull-refresh-head-height);left:0;line-height:var(--van-pull-refresh-head-height);overflow:hidden;position:absolute;text-align:center;transform:translateY(-100%);width:100%}.van-pull-refresh__loading .van-loading__spinner{height:var(--van-pull-refresh-loading-icon-size);width:var(--van-pull-refresh-loading-icon-size)}:root{--van-list-text-color:var(--van-text-color-2);--van-list-text-font-size:var(--van-font-size-md);--van-list-text-line-height:50px;--van-list-loading-icon-size:16px}.van-list__error-text,.van-list__finished-text,.van-list__loading{color:var(--van-list-text-color);font-size:var(--van-list-text-font-size);line-height:var(--van-list-text-line-height);text-align:center}.van-list__placeholder{height:0;pointer-events:none}.van-list__loading-icon .van-loading__spinner{height:var(--van-list-loading-icon-size);width:var(--van-list-loading-icon-size)}:root{--van-sticky-z-index:99}.van-sticky--fixed{position:fixed;z-index:var(--van-sticky-z-index)}\n",document.head.appendChild(e),System.register(["./vendor-legacy.a2d7269a.js","./index-legacy.01a7a724.js","./index-legacy.cb0a2208.js","./index-legacy.e2527bd7.js","./function-call-legacy.6b407d2e.js","./index-legacy.a9020a9c.js","./index-legacy.a908397c.js","./product-legacy.4590c8cf.js","./index-legacy.38433af3.js","./on-popup-reopen-legacy.ce7ff038.js","./GoToCartButton-legacy.8ba944f8.js","./index-legacy.6da3e057.js","./index-legacy.fa22f2bf.js","./useAxios-legacy.97e1062a.js","./math-legacy.0b21c3d7.js","./interceptor-legacy.247dd095.js","./product-legacy.3d61f3ba.js","./usePaginatedList-legacy.b34ba625.js"],(function(e){"use strict";var t,a,i,n,l,o,s,r,d,u,c,v,f,h,p,g,m,w,x,y,b,_,k,z,T,j,V,C,I,S,B,D,H,L,A,E,P,U,M,O,Y,R,F,q,G,J,N,W,X,Z,$,K,Q,ee,te,ae,ie,ne,le,oe,se,re,de,ue;return{setters:[function(e){t=e.a$,a=e.b0,i=e.d,n=e.l,l=e.aV,o=e.n,s=e.ag,r=e.f,d=e.b4,u=e.b9,c=e.aa,v=e.aX,f=e.o,h=e.a,p=e.e,g=e.r,m=e.c,w=e.w,x=e.t,y=e.L,b=e.ba,_=e.bb,k=e.a9,z=e.F,T=e.b,j=e.b5,V=e.p,C=e.bc,I=e.i,S=e.a4,B=e.bd},function(e){D=e.I},function(e){H=e.S,L=e.u},function(e){A=e._,E=e.a},function(e){P=e.T,U=e.P},function(e){M=e.L,O=e.B},function(e){Y=e.E},function(e){R=e.u},function(e){F=e.O,q=e.J,G=e.Y,J=e.D,N=e.e,W=e.L,X=e.N,Z=e.c,$=e.n,K=e.m,Q=e.l,ee=e.Z,te=e.W,ae=e._,ie=e.w,ne=e.t,le=e.p},function(e){oe=e.u,se=e.a},function(e){re=e._},function(e){de=e.a,ue=e.A},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var[ce,ve]=Z("sticky"),fe={zIndex:$,position:K("top"),container:Object,offsetTop:Q(0),offsetBottom:Q(0)},he=i({name:ce,props:fe,emits:["scroll","change"],setup(e,i){var{emit:d,slots:u}=i,c=n(),v=G(c),f=l({fixed:!1,width:0,height:0,transform:0}),h=o((()=>J("top"===e.position?e.offsetTop:e.offsetBottom))),p=o((()=>{var{fixed:e,height:t,width:a}=f;if(e)return{width:a+"px",height:t+"px"}})),g=o((()=>{if(f.fixed){var t=N(W(e.zIndex),{width:f.width+"px",height:f.height+"px",[e.position]:h.value+"px"});return f.transform&&(t.transform="translate3d(0, "+f.transform+"px, 0)"),t}})),m=()=>{if(c.value&&!ee(c)){var{container:t,position:a}=e,i=te(c),n=ae(window);if(f.width=i.width,f.height=i.height,"top"===a)if(t){var l=te(t),o=l.bottom-h.value-f.height;f.fixed=h.value>i.top&&l.bottom>0,f.transform=o<0?o:0}else f.fixed=h.value>i.top;else{var{clientHeight:s}=document.documentElement;if(t){var r=te(t),u=s-r.top-h.value-f.height;f.fixed=s-h.value<i.bottom&&s>r.top,f.transform=u<0?-u:0}else f.fixed=s-h.value<i.bottom}(e=>{d("scroll",{scrollTop:e,isFixed:f.fixed})})(n)}};return s((()=>f.fixed),(e=>d("change",e))),X("scroll",m,{target:v}),function(e,i){if(F&&window.IntersectionObserver){var n=new IntersectionObserver((e=>{i(e[0].intersectionRatio>0)}),{root:document.body}),l=()=>{e.value&&n.unobserve(e.value)};t(l),a(l),q((()=>{e.value&&n.observe(e.value)}))}}(c,m),()=>r("div",{ref:c,style:p.value},[r("div",{class:ve({fixed:f.fixed}),style:g.value},[null==u.default?void 0:u.default()])])}}),pe=ie(he),ge=Symbol(),[me,we,xe]=Z("list"),ye={error:Boolean,offset:Q(300),loading:Boolean,finished:Boolean,errorText:String,direction:K("down"),loadingText:String,finishedText:String,immediateCheck:ne},be=i({name:me,props:ye,emits:["load","update:error","update:loading"],setup(e,t){var{emit:a,slots:i}=t,l=n(!1),o=n(),f=n(),h=d(ge,null),p=G(o),g=()=>{v((()=>{if(!(l.value||e.finished||e.error||!1===(null==h?void 0:h.value))){var{offset:t,direction:i}=e,n=te(p);if(n.height&&!ee(o)){var s=te(f);("up"===i?n.top-s.top<=t:s.bottom-n.bottom<=t)&&(l.value=!0,a("update:loading",!0),a("load"))}}}))},m=()=>{if(e.finished){var t=i.finished?i.finished():e.finishedText;if(t)return r("div",{class:we("finished-text")},[t])}},w=()=>{a("update:error",!1),g()},x=()=>{if(e.error){var t=i.error?i.error():e.errorText;if(t)return r("div",{role:"button",class:we("error-text"),tabindex:0,onClick:w},[t])}},y=()=>{if(l.value&&!e.finished)return r("div",{class:we("loading")},[i.loading?i.loading():r(M,{class:we("loading-icon")},{default:()=>[e.loadingText||xe("loading")]})])};return s((()=>[e.loading,e.finished,e.error]),g),h&&s(h,(e=>{e&&g()})),u((()=>{l.value=e.loading})),c((()=>{e.immediateCheck&&g()})),oe({check:g}),X("scroll",g,{target:p}),()=>{var t=null==i.default?void 0:i.default(),a=r("div",{ref:f,class:we("placeholder")},null);return r("div",{ref:o,role:"feed",class:we(),"aria-busy":l.value},["down"===e.direction?t:a,y(),m(),x(),"up"===e.direction?t:a])}}}),_e=ie(be),[ke,ze,Te]=Z("pull-refresh"),je=["pulling","loosing","success"],Ve={disabled:Boolean,modelValue:Boolean,headHeight:Q(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:$,successDuration:Q(500),animationDuration:Q(300)},Ce=i({name:ke,props:Ve,emits:["refresh","update:modelValue"],setup(e,t){var a,{emit:i,slots:o}=t,d=n(),u=G(d),c=l({status:"normal",distance:0,duration:0}),f=se(),h=()=>{if(50!==e.headHeight)return{height:e.headHeight+"px"}},p=()=>"loading"!==c.status&&"success"!==c.status&&!e.disabled,g=(t,a)=>{var i=+(e.pullDistance||e.headHeight);c.distance=t,c.status=a?"loading":0===t?"normal":t<i?"pulling":"loosing"},m=()=>{var{status:t}=c;return"normal"===t?"":e[t+"Text"]||Te(t)},w=()=>{var{status:e,distance:t}=c;if(o[e])return o[e]({distance:t});var a=[];return je.includes(e)&&a.push(r("div",{class:ze("text")},[m()])),"loading"===e&&a.push(r(M,{class:ze("loading")},{default:m})),a},x=e=>{(a=0===ae(u.value))&&(c.duration=0,f.start(e))},y=e=>{p()&&x(e)},b=t=>{if(p()){a||x(t);var{deltaY:i}=f;f.move(t),a&&i.value>=0&&f.isVertical()&&(le(t),g((n=i.value,l=+(e.pullDistance||e.headHeight),n>l&&(n=n<2*l?l+(n-l)/2:1.5*l+(n-2*l)/4),Math.round(n))))}var n,l},_=()=>{a&&f.deltaY.value&&p()&&(c.duration=+e.animationDuration,"loosing"===c.status?(g(+e.headHeight,!0),i("update:modelValue",!0),v((()=>i("refresh")))):g(0))};return s((()=>e.modelValue),(t=>{c.duration=+e.animationDuration,t?g(+e.headHeight,!0):o.success||e.successText?(c.status="success",setTimeout((()=>{g(0)}),+e.successDuration)):g(0,!1)})),()=>{var e={transitionDuration:c.duration+"ms",transform:c.distance?"translate3d(0,"+c.distance+"px, 0)":""};return r("div",{ref:d,class:ze()},[r("div",{class:ze("track"),style:e,onTouchstart:y,onTouchmove:b,onTouchend:_,onTouchcancel:_},[r("div",{class:ze("head"),style:h()},[w()]),null==o.default?void 0:o.default()])])}}}),Ie=ie(Ce);const Se={},Be={class:"tw-p-2 tw-mt-3 tw-bg-white tw-rounded-md tw-shadow tw-shadow-light"},De=p("div",{class:"tw-bg-light tw-rounded tw-h-32"},null,-1);var He=A(Se,[["render",function(e,t){const a=H;return f(),h("div",Be,[De,r(a,{class:"tw-mt-3",title:"",row:3})])}]]);const Le={class:"tw-p-2 tw-mt-3 tw-bg-white tw-rounded-md tw-shadow tw-shadow-light"},Ae={class:"tw-line-clamp-3 tw-break-all tw-text-medium"},Ee={class:"tw-inline tw-text-dark"},Pe={class:"tw-ml-2 tw-text-xs tw-text-light"},Ue={class:"tw-py-1 tw-flex tw-items-center"},Me={class:"tw-text-primary tw-font-bold"},Oe=p("span",{class:"tw-ml-1 tw-text-primary tw-text-xs"},"元/月",-1),Ye={class:"tw-ml-auto"},Re=i({props:{item:null,loading:{type:Boolean,default:!1}},setup(e){const t=e,a=L();s((()=>a.itemAddingErrorMessage),(e=>{e&&P(e)}));const i=()=>{a.addItem({...t.item,quantity:1})},n={name:"mobile-products-id",params:{id:t.item.id}};return(t,l)=>{const o=He,s=D,d=_,u=O,c=g("router-link");return e.loading?(f(),m(o,{key:0})):(f(),m(c,{key:1,to:n},{default:w((()=>[p("figure",Le,[r(s,{class:"tw-w-full tw-h-32",src:e.item.thumbnail,fit:"cover",round:"",radius:"8px"},null,8,["src"]),p("div",Ae,[p("figcaption",Ee,x(e.item.title),1),p("span",Pe,x(e.item.body),1)]),p("div",Ue,[p("span",Me,x(e.item.price),1),Oe,p("span",Ye,[r(u,{round:"",size:"small",type:"primary",disabled:y(a).isItemAdding,onClick:b(i,["prevent","stop"])},{default:w((()=>[r(d,{size:"16"})])),_:1},8,["disabled","onClick"])])])])])),_:1}))}}}),Fe={key:0,class:"tw-pb-56"},qe=i({setup(e){const t=[...Array(10).keys()].map((e=>({id:String(e)}))),a=R(),{items:i,isItemsLoading:l,isItemsEmpty:s,isLastPage:d,itemsLoadingErrorMessage:u}=k(a),c=n(!1),v=o((()=>!!u.value)),p=o((()=>s.value&&l.value||c.value)),g=o((()=>s.value&&!l.value)),x=o((()=>p.value?t:i.value)),b=()=>{a.nextPage()},_=async()=>{c.value=!0,await a.getItemsAndReset(),await V(200),c.value=!1};return a.getItems(),(e,t)=>{const a=Y,i=Re,n=_e,o=Ie;return f(),h("div",null,[r(o,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),onRefresh:_},{default:w((()=>[y(g)?(f(),h("div",Fe,[r(a,{description:"商品列表为空"})])):(f(),m(n,{key:1,loading:y(l),"onUpdate:loading":t[0]||(t[0]=e=>j(l)?l.value=e:null),finished:y(d),"finished-text":"没有更多了","immediate-check":!1,error:y(v),"error-text":y(u),onLoad:b},{default:w((()=>[(f(!0),h(z,null,T(y(x),(e=>(f(),m(i,{key:e.id,item:e,loading:y(p)},null,8,["item","loading"])))),128))])),_:1},8,["loading","finished","error","error-text"]))])),_:1},8,["modelValue"])])}}});const Ge={class:"tw-truncate"},Je=i({props:{modelValue:{default:"310000"},placeholder:{default:"省/市/区"}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,i=C(a,"modelValue"),l=n(!1),s=I(l),d=n([]),u=o((()=>!d.value.length)),v=o((()=>u.value?a.placeholder:d.value.map((e=>e.name)).filter((e=>!!e)).join("/"))),g=o((()=>u.value?"tw-text-medium":"tw-text-primary")),m=n(),_=()=>{var e,t;return null===(e=m.value)||void 0===e||null===(t=e.getArea)||void 0===t?void 0:t.call(e)};c((()=>{const e=_();e&&(d.value=[{name:e.province},{name:e.city},{name:e.county}])}));const k=()=>{s(!1)},z=e=>{d.value=(e=>e.filter((e=>!!e)))(e);const a=_();a&&t("update:modelValue",a.code),s(!1)};return(e,t)=>{const a=B,n=ue,o=U;return f(),h("div",null,[p("a",{class:S([y(g),"tw-max-w-40 tw-inline-flex tw-items-center tw-px-3 tw-py-1.5 tw-shadow tw-shadow-primary tw-rounded tw-bg-white"]),onClick:t[0]||(t[0]=b((e=>y(s)()),["prevent"]))},[p("span",Ge,x(y(v)),1),r(a,{class:"tw-ml-2"})],2),r(o,{show:l.value,"onUpdate:show":t[1]||(t[1]=e=>l.value=e),position:"bottom","close-on-popstate":"","lazy-render":!1},{default:w((()=>[r(n,{ref_key:"areaPicker",ref:m,value:y(i),"area-list":y(de),"columns-placeholder":["请选择","请选择","请选择"],onCancel:k,onConfirm:z},null,8,["value","area-list"])])),_:1},8,["show"])])}}});var Ne={};const We={ref:"wrapper",class:"tw-article"},Xe=e("default",i({setup(e){const t=E(),a=e=>{t.updateUser({area:e})},i=n(!1),l=e=>{i.value=e};return(e,n)=>{const o=Je,s=re,d=pe,u=qe;return f(),h("article",We,[r(d,{"offset-top":"46px",onChange:l},{default:w((()=>[p("div",{class:S(["tw-flex tw-items-center tw-justify-between tw-pr-2",i.value&&"tw-bg-white/75 tw--mx-6 tw-pl-6 tw-pr-8 tw-py-3 tw-shadow-md"])},[r(o,{"model-value":y(t).area,"onUpdate:modelValue":a},null,8,["model-value"]),r(s)],2)])),_:1}),r(u,{class:"tw-mt-4"})],512)}}}));"function"==typeof Ne&&Ne(Xe)}}}))}();
