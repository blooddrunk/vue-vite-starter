System.register(["./vendor-legacy.df9808f5.js","./BaseInput-legacy.1f18713c.js","./index-legacy.6256bc4e.js","./useAxios-legacy.7cd1192a.js","./index-legacy.1ac252df.js","./useFormField-legacy.7ff3c2cb.js"],(function(e){"use strict";var t,a,n,r,o,i,l,s,u,d,c,m,p,f,y,v,b,g,w,_,h,P,x,S,j,q,L,k,E,$,A,D,F,T,I,V,z,B,N,R,C;return{setters:[function(e){t=e.ax,a=e.l,n=e.n,r=e.ay,o=e.d,i=e.o,l=e.c,s=e.w,u=e.L,d=e.aq,c=e.az,m=e.E,p=e.aA,f=e.aB,y=e.ar,v=e.as,b=e.f,g=e.a,w=e.b,_=e.a8,h=e.F,P=e.aC,x=e.aD,S=e.at,j=e.aE,q=e.aF,L=e.aG,k=e.ac,E=e.e,$=e.g,A=e.aj,D=e.aH,F=e.aI,T=e.aJ,I=e.a6,V=e.aK},function(e){z=e.a,B=e._},function(e){N=e._},function(e){R=e.u},function(e){C=e.a},function(){}],execute:function(){const G=o({props:{action:null,confirmText:{default:""},size:{default:"mini"},type:{default:"text"},plain:{type:Boolean,default:!1}},setup(e){const o=e,{isPending:p,execute:f}=((e,o,i={})=>{const l=t(o),s=a(!1),u=a(!1),d=a(null),c=n((()=>u.value&&!d.value)),{immediate:m=!1,onError:p=r,resetOnExecute:f=!0}=i,y=async(...t)=>{f&&(l.value=o),s.value=!0,u.value=!1,d.value=null;const a="function"==typeof e?e(...t):e;try{const e=await a;return l.value=e,e}catch(n){console.error(n),d.value=n,p(n)}finally{s.value=!1,u.value=!0}};return m&&y(),{data:l,isPending:s,isFinished:u,isSuccessful:c,error:d,execute:y}})(o.action,null),y=async()=>{if(o.confirmText)try{await c.confirm(o.confirmText,"提示",{type:"warning"}),f()}catch(e){}else f()};return(t,a)=>{const n=m;return i(),l(n,{loading:u(p),disabled:u(p),size:e.size,type:e.type,plain:e.plain,onClick:y},{default:s((()=>[u(p)?d(t.$slots,"loading",{key:0}):d(t.$slots,"default",{key:1})])),_:3},8,["loading","disabled","size","type","plain"])}}}),O=o({inheritAttrs:!1}),U=o({...O,props:{items:null},setup(e){const t=e;return(e,a)=>{const n=p,r=f,o=z;return i(),l(o,y(v(e.$attrs)),{default:s((e=>[b(r,y(v(e)),{default:s((()=>[(i(!0),g(h,null,w(t.items,(e=>(i(),l(n,_({key:e.value},e),null,16)))),128))])),_:2},1040)])),_:1},16)}}}),H=o({inheritAttrs:!1}),J=o({...H,props:{items:null},setup(e){const t=e;return(e,a)=>{const n=P,r=x,o=z;return i(),l(o,y(v(e.$attrs)),{default:s((e=>[b(r,y(v(e)),{default:s((()=>[(i(!0),g(h,null,w(t.items,(e=>(i(),l(n,_({key:e.value},e),null,16)))),128))])),_:2},1040)])),_:1},16)}}}),K=o({inheritAttrs:!1});var M=N(K,[["render",function(e,t,a,n,r,o){const u=j,c=z;return i(),l(c,y(v(e.$attrs)),{default:s((t=>[b(u,y(v(t)),S({_:2},[w(e.$slots,((t,a)=>({name:a,fn:s((()=>[d(e.$slots,a)]))})))]),1040)])),_:3},16)}]]);const W=o({inheritAttrs:!1}),Q=o({...W,setup:e=>(e,t)=>{const a=q,n=z;return i(),l(n,y(v(e.$attrs)),{default:s((({modelValue:t,...n})=>[b(a,_({"model-value":u(L)(t)},n),S({_:2},[w(e.$slots,((t,a)=>({name:a,fn:s((()=>[d(e.$slots,a)]))})))]),1040,["model-value"])])),_:3},16)}}),X=o({name:"ProductForm",props:{addProduct:{type:Function,required:!0}},emits:{submit:null},setup(e){const{meta:t,isSubmitting:r,handleSubmit:o,resetForm:i}=k({validationSchema:{name:"required|min:5|max:10",price:"required|numeric|min_value:1|max_value:9999999",inventory:"required",terms:"required",tags:"required",location:"required"},initialValues:{name:"233",price:1,inventory:1,terms:!1,tags:["book"],location:""}}),l=n((()=>!t.value.valid&&t.value.dirty)),s=o((async t=>{await e.addProduct(t)}));return{tagList:a([{label:"Phone",value:"phone"},{label:"Book",value:"book"}]),locationList:a([{label:"UP",value:"up"},{label:"DOWN",value:"down"}]),invalid:l,isSubmitting:r,onSubmit:s,onReset:e=>{e.preventDefault(),i()}}}}),Y={class:"tw-max-w-lg tw-p-3 tw-shadow-md"},Z=E("h1",{class:"tw-py-2 tw-text-semibold tw-text-xl tw"},"Enter Product",-1),ee=E("span",{class:"tw-text-teal-600"},"Product Name",-1),te=E("span",{class:"tw-text-blue-600"},"Price",-1),ae=$(" $ "),ne=$("1` "),re=$(" Agree to terms and conditions "),oe={class:"tw-flex tw-justify-end tw-py-3"},ie=$("RESET"),le=$(" SUBMIT ");var se=N(X,[["render",function(e,t,a,n,r,o){const l=B,u=Q,d=M,c=J,p=U,f=m,y=A;return i(),g("div",Y,[Z,b(y,{"status-icon":"",onSubmit:e.onSubmit,onReset:e.onReset},{default:s((()=>[b(l,{name:"name",label:"Product Name",required:""},{label:s((()=>[ee])),_:1}),b(l,{name:"price",label:"Price",required:""},{label:s((()=>[te])),prepend:s((()=>[ae])),_:1}),b(u,{class:"tw-w-full",name:"inventory",label:"Inventory",required:"","controls-position":"right",min:0,max:9999,precision:0},{default:s((()=>[ne])),_:1}),b(d,{name:"terms",label:"Terms","show-label":!1,required:""},{default:s((()=>[re])),_:1}),b(c,{name:"tags",label:"Tags",items:e.tagList},null,8,["items"]),b(p,{name:"location",label:"Location",items:e.locationList,clearable:"",placeholder:"Location"},null,8,["items"]),E("div",oe,[b(f,{"native-type":"reset"},{default:s((()=>[ie])),_:1}),b(f,{type:"primary","native-type":"submit",loading:e.isSubmitting,disabled:e.invalid||e.isSubmitting},{default:s((()=>[le])),_:1},8,["loading","disabled"])])])),_:1},8,["onSubmit","onReset"])])}]]),ue={};const de=o({name:"SimpleFormView",setup(){const{products:e,isProductLoading:t,addProduct:a,removeProduct:n}=(()=>{const{data:e,isPending:t,request:a}=R([],{url:"https://my-json-server.typicode.com/blooddrunk/my-json-server/products",__needValidation:!1});return{products:e,isProductLoading:t,addProduct:async t=>{try{const{data:a}=await C.request({url:"https://my-json-server.typicode.com/blooddrunk/my-json-server/products",method:"post",data:t,__needValidation:!1});e.value.unshift(a)}catch(a){console.error(a),V.error(a.message)}},removeProduct:async t=>{if(t.id)try{await C.delete(`https://my-json-server.typicode.com/blooddrunk/my-json-server/products/${t.id}`,{__needValidation:!1}),e.value=e.value.filter((e=>e.id!==t.id))}catch(a){console.error(a),V.error(a.message)}},fetchProducts:a}})();return{products:e,isProductLoading:t,addProduct:a,getDeleteAction:e=>async()=>{await n(e),V.success("Deleted successfully")}}}}),ce=$(" DELETE "),me=$(" DELETING... ");"function"==typeof ue&&ue(de),e("default",N(de,[["render",function(e,t,a,n,r,o){const u=se,d=D,c=G,m=F,p=T;return i(),g("section",null,[b(u,{"add-product":e.addProduct},null,8,["add-product"]),I((i(),l(m,{class:"tw-mt-3",data:e.products,"row-key":"id"},{default:s((()=>[b(d,{prop:"id",label:"ID",width:"100"}),b(d,{prop:"name",label:"Product Name"}),b(d,{prop:"price",label:"Product Price",width:"200"}),b(d,{prop:"inventory",label:"Inventory",width:"100"}),b(d,{label:"Action",width:"200"},{default:s((t=>[b(c,{type:"danger",action:e.getDeleteAction(t.row),"confirm-text":"Are you sure?"},{loading:s((()=>[me])),default:s((()=>[ce])),_:2},1032,["action"])])),_:1})])),_:1},8,["data"])),[[p,e.isProductLoading]])])}]]))}}}));
