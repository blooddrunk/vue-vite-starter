System.register(["./vendor-legacy.df9808f5.js","./index-legacy.6bf7f23d.js","./interceptor-legacy.6952aba8.js","./index-legacy.9f5bde02.js"],(function(e){"use strict";var o,t,a,n,l,s,i,r,c,u,d,v,p,f,m,y,h,g,b,w,C,k,S,x,O,z,I,B,P,L,T,A,j,E,D,X,Y,H,M,N,F,R,V;return{setters:[function(e){o=e.aZ,t=e.l,a=e.b2,n=e.a_,l=e.ag,s=e.b0,i=e.d,r=e.f,c=e.a5,u=e.a6,d=e.aT,v=e.n,p=e.aa,f=e.b3,m=e.b4,y=e.b6,h=e.F,g=e.a8,b=e.a2,w=e.aV,C=e.b1},function(e){k=e.e,S=e.n,x=e.t,O=e.d,z=e.C,I=e.D,B=e.p,P=e.c,L=e.E,T=e.q,A=e.F,j=e.w,E=e.G,D=e.m,X=e.H,Y=e.I,H=e.k,M=e.J,N=e.A,F=e.K},function(e){R=e.c},function(e){V=e.L}],execute:function(){function U(e){var t=o();t&&k(t.proxy,e)}e({T:Ce,a:G,o:function(e){var o=s($,null);o&&l(o,(o=>{o&&e()}))},u:U});var q={show:Boolean,zIndex:S,overlay:x,duration:S,teleport:[String,Object],lockScroll:x,lazyRender:x,beforeClose:Function,overlayStyle:Object,overlayClass:O,transitionAppear:Boolean,closeOnClickOverlay:x};function G(){var e=t(0),o=t(0),a=t(0),n=t(0),l=t(0),s=t(0),i=t(""),r=()=>{a.value=0,n.value=0,l.value=0,s.value=0,i.value=""};return{move:t=>{var r,c,u=t.touches[0];a.value=u.clientX<0?0:u.clientX-e.value,n.value=u.clientY-o.value,l.value=Math.abs(a.value),s.value=Math.abs(n.value),i.value||(i.value=(r=l.value,c=s.value,r>c&&r>10?"horizontal":c>r&&c>10?"vertical":""))},start:t=>{r(),e.value=t.touches[0].clientX,o.value=t.touches[0].clientY},reset:r,startX:e,startY:o,deltaX:a,deltaY:n,offsetX:l,offsetY:s,direction:i,isVertical:()=>"vertical"===i.value,isHorizontal:()=>"horizontal"===i.value}}var J=0,K="van-overflow-hidden";function Z(e){var o=t(!1);return l(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}var $=Symbol(),[_,Q]=P("overlay"),W={show:Boolean,zIndex:S,duration:S,className:O,lockScroll:x,customStyle:Object},ee=i({name:_,props:W,setup(e,o){var{slots:t}=o,a=Z((()=>e.show)),n=e=>{B(e,!0)},l=a((()=>{var o=k(L(e.zIndex),e.customStyle);return T(e.duration)&&(o.animationDuration=e.duration+"s"),u(r("div",{style:o,class:[Q(),e.className],onTouchmove:e.lockScroll?n:A},[null==t.default?void 0:t.default()]),[[d,e.show]])}));return()=>r(c,{name:"van-fade",appear:!0},{default:l})}}),oe=j(ee),te=k({},q,{round:Boolean,position:D("center"),closeIcon:D("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:D("top-right"),safeAreaInsetBottom:Boolean}),[ae,ne]=P("popup"),le=2e3,se=i({name:ae,inheritAttrs:!1,props:te,emits:["open","close","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,o){var s,i,b,w,C,k,S,x,O,{emit:P,attrs:L,slots:A}=o,j=t(),D=t(),H=Z((()=>e.show||!e.lazyRender)),M=v((()=>{var o={zIndex:j.value};return T(e.duration)&&(o["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s"),o})),N=()=>{s||(void 0!==e.zIndex&&(le=+e.zIndex),s=!0,j.value=++le,P("open"))},F=()=>{s&&R(e.beforeClose,{done(){s=!1,P("close"),P("update:show",!1)}})},V=o=>{P("click-overlay",o),e.closeOnClickOverlay&&F()},q=()=>{if(e.overlay)return r(oe,{show:e.show,class:e.overlayClass,zIndex:j.value,duration:e.duration,customStyle:e.overlayStyle,onClick:V},{default:A["overlay-content"]})},_=e=>{P("click-close-icon",e),F()},Q=()=>{if(e.closeable)return r(Y,{role:"button",tabindex:0,name:e.closeIcon,class:[ne("close-icon",e.closeIconPosition),X],classPrefix:e.iconPrefix,onClick:_},null)},W=()=>P("opened"),ee=()=>P("closed"),te=H((()=>{var{round:o,position:t,safeAreaInsetBottom:a}=e;return u(r("div",g({ref:D,style:M.value,class:[ne({round:o,[t]:t}),{"van-safe-area-bottom":a}]},L),[null==A.default?void 0:A.default(),Q()]),[[d,e.show]])})),ae=()=>{var{position:o,transition:t,transitionAppear:a}=e;return r(c,{name:t||("center"===o?"van-fade":"van-popup-slide-"+o),appear:a,onAfterEnter:W,onAfterLeave:ee},{default:te})};return l((()=>e.show),(e=>{e?N():(s=!1,P("close"))})),U({popupRef:D}),b=D,w=()=>e.show&&e.lockScroll,C=G(),k=e=>{C.move(e);var o=C.deltaY.value>0?"10":"01",t=I(e.target,b.value),{scrollHeight:a,offsetHeight:n,scrollTop:l}=t,s="11";0===l?s=n>=a?"00":"01":l+n>=a&&(s="10"),"11"===s||!C.isVertical()||parseInt(s,2)&parseInt(o,2)||B(e,!0)},S=()=>{document.addEventListener("touchstart",C.start),document.addEventListener("touchmove",k,{passive:!1}),J||document.body.classList.add(K),J++},x=()=>{J&&(document.removeEventListener("touchstart",C.start),document.removeEventListener("touchmove",k),--J||document.body.classList.remove(K))},O=()=>w()&&x(),z((()=>w()&&S())),a(O),n(O),l(w,(e=>{e?S():x()})),E("popstate",(()=>{e.closeOnPopstate&&(F(),i=!1)})),p((()=>{e.show&&N()})),f((()=>{i&&(P("update:show",!0),i=!1)})),a((()=>{e.show&&(F(),i=!0)})),m($,(()=>e.show)),()=>e.teleport?r(y,{to:e.teleport},{default:()=>[q(),ae()]}):r(h,null,[q(),ae()])}}),ie=e("P",j(se)),re=0,[ce,ue]=P("toast"),de=["show","overlay","transition","overlayClass","overlayStyle","closeOnClickOverlay"],ve={icon:String,show:Boolean,type:D("text"),overlay:Boolean,message:S,iconSize:S,duration:M(2e3),position:D("middle"),className:O,iconPrefix:String,transition:D("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:O,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},pe=i({name:ce,props:ve,emits:["update:show"],setup(e,o){var t,{emit:a}=o,n=!1,s=()=>{var o=e.show&&e.forbidClick;n!==o&&((n=o)?(re||document.body.classList.add("van-toast--unclickable"),re++):re&&(--re||document.body.classList.remove("van-toast--unclickable")))},i=e=>a("update:show",e),c=()=>{e.closeOnClick&&i(!1)},u=()=>clearTimeout(t),d=()=>{var{icon:o,type:t,iconSize:a,iconPrefix:n,loadingType:l}=e;return o||"success"===t||"fail"===t?r(Y,{name:o||t,size:a,class:ue("icon"),classPrefix:n},null):"loading"===t?r(V,{class:ue("loading"),size:a,type:l},null):void 0},v=()=>{var{type:o,message:t}=e;if(T(t)&&""!==t)return"html"===o?r("div",{class:ue("text"),innerHTML:String(t)},null):r("div",{class:ue("text")},[t])};return l((()=>[e.show,e.forbidClick]),s),l((()=>[e.show,e.type,e.message,e.duration]),(()=>{u(),e.show&&e.duration>0&&(t=setTimeout((()=>{i(!1)}),e.duration))})),p(s),C(s),()=>r(ie,g({class:[ue([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:u,"onUpdate:show":i},H(e,de)),{default:()=>[d(),v()]})}}),fe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},me=[],ye=!1,he=k({},fe),ge=new Map;function be(e){return F(e)?e:{message:e}}function we(){var e,a,{instance:n,unmount:s}=(e=b({setup(){var e=t(""),{open:a,state:i,close:c,toggle:u}=function(){var e=w({show:!1}),o=o=>{e.show=o},t=t=>{k(e,t,{transitionAppear:!0}),o(!0)},a=()=>o(!1);return U({open:t,close:a,toggle:o}),{open:t,close:a,state:e,toggle:o}}(),d=()=>{ye&&(me=me.filter((e=>e!==n)),s())};return l(e,(e=>{i.message=e})),o().render=()=>r(pe,g(i,{onClosed:d,"onUpdate:show":u}),null),{open:a,clear:c,message:e}}}),a=document.createElement("div"),document.body.appendChild(a),{instance:e.mount(a),unmount(){e.unmount(),document.body.removeChild(a)}});return n}function Ce(e){if(void 0===e&&(e={}),!N)return{};var o=function(){if(!me.length||ye){var e=we();me.push(e)}return me[me.length-1]}(),t=be(e);return o.open(k({},he,ge.get(t.type||he.type),t)),o}var ke=e=>o=>Ce(k({type:e},be(o)));Ce.loading=ke("loading"),Ce.success=ke("success"),Ce.fail=ke("fail"),Ce.clear=e=>{if(me.length)if(e)me.forEach((e=>{e.clear()})),me=[];else if(ye){var o;null==(o=me.shift())||o.clear()}else me[0].clear()},Ce.setDefaultOptions=function(e,o){"string"==typeof e?ge.set(e,o):k(he,e)},Ce.resetDefaultOptions=e=>{"string"==typeof e?ge.delete(e):(he=k({},fe),ge.clear())},Ce.allowMultiple=function(e){void 0===e&&(e=!0),ye=e},Ce.install=e=>{e.use(j(pe)),e.config.globalProperties.$toast=Ce}}}}));
