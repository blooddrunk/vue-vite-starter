!function(){var e=document.createElement("style");e.innerHTML=":root{--van-swipe-indicator-size:6px;--van-swipe-indicator-margin:var(--van-padding-sm);--van-swipe-indicator-active-opacity:1;--van-swipe-indicator-inactive-opacity:.3;--van-swipe-indicator-active-background-color:var(--van-primary-color);--van-swipe-indicator-inactive-background-color:var(--van-border-color)}.van-swipe{cursor:-webkit-grab;cursor:grab;overflow:hidden;position:relative;transform:translateZ(0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.van-swipe__track{display:flex;height:100%}.van-swipe__track--vertical{flex-direction:column}.van-swipe__indicators{bottom:var(--van-swipe-indicator-margin);display:flex;left:50%;position:absolute;transform:translate(-50%)}.van-swipe__indicators--vertical{bottom:auto;flex-direction:column;left:var(--van-swipe-indicator-margin);top:50%;transform:translateY(-50%)}.van-swipe__indicators--vertical .van-swipe__indicator:not(:last-child){margin-bottom:var(--van-swipe-indicator-size)}.van-swipe__indicator{background-color:var(--van-swipe-indicator-inactive-background-color);border-radius:100%;height:var(--van-swipe-indicator-size);opacity:var(--van-swipe-indicator-inactive-opacity);transition:opacity var(--van-animation-duration-fast),background-color var(--van-animation-duration-fast);width:var(--van-swipe-indicator-size)}.van-swipe__indicator:not(:last-child){margin-right:var(--van-swipe-indicator-size)}.van-swipe__indicator--active{background-color:var(--van-swipe-indicator-active-background-color);opacity:var(--van-swipe-indicator-active-opacity)}.van-swipe-item{flex-shrink:0;height:100%;position:relative;width:100%}\n",document.head.appendChild(e),System.register(["./vendor-legacy.df9808f5.js","./index-legacy.9f5bde02.js","./GoToCartButton-legacy.e3b2f8df.js","./cart-legacy.f8e7eabf.js","./index-legacy.6bf7f23d.js","./function-call-legacy.9bcdf916.js","./product-legacy.bd0a075f.js","./index-legacy.1ac252df.js","./useAxios-legacy.7cd1192a.js","./interceptor-legacy.6952aba8.js","./usePaginatedList-legacy.39e8965b.js"],(function(e){"use strict";var t,a,i,l,r,n,o,s,c,v,u,d,p,f,w,h,g,m,b,y,x,k,_,z,C,j,I,M,T,S,Y,A,B,P,X,E,L,O,D,q,H,R,V,Z,$,F,G,U,W,J,K,N,Q,ee,te;return{setters:[function(e){t=e.d,a=e.l,i=e.aV,l=e.n,r=e.ag,n=e.aa,o=e.b3,s=e.b2,c=e.a_,v=e.f,u=e.aU,d=e.be,p=e.o,f=e.a,w=e.e,h=e.a8,g=e.L,m=e.b8,b=e.c,y=e.a4,x=e.bf,k=e.bg,_=e.bh,z=e.bi,C=e.w,j=e.t,I=e.b,M=e.F,T=e.r,S=e.a7,Y=e.g},function(e){A=e.B},function(e){B=e._},function(e){P=e.I,X=e.u,E=e.S},function(e){L=e.f,O=e.Y,D=e.Z,q=e._,H=e.c,R=e.t,V=e.n,Z=e.l,$=e.$,F=e.P,G=e.p,U=e.z,W=e.w,J=e.j},function(e){K=e.a,N=e.u,Q=e.o,ee=e.T},function(e){te=e.a},function(){},function(){},function(){},function(){}],execute:function(){var[ae,ie]=H("swipe"),le={loop:R,width:V,height:V,vertical:Boolean,autoplay:Z(0),duration:Z(500),touchable:R,lazyRender:Boolean,initialSwipe:Z(0),indicatorColor:String,showIndicators:R,stopPropagation:R},re=Symbol(ae),ne=t({name:ae,props:le,emits:["change"],setup(e,t){var u,d,{emit:p,slots:f}=t,w=a(),h=i({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),g=K(),{children:m,linkChildren:b}=L(re),y=l((()=>m.length)),x=l((()=>h[e.vertical?"height":"width"])),k=l((()=>e.vertical?g.deltaY.value:g.deltaX.value)),_=l((()=>h.rect?(e.vertical?h.rect.height:h.rect.width)-x.value*y.value:0)),z=l((()=>Math.ceil(Math.abs(_.value)/x.value))),C=l((()=>y.value*x.value)),j=l((()=>(h.active+y.value)%y.value)),I=l((()=>{var t=e.vertical?"vertical":"horizontal";return g.direction.value===t})),M=l((()=>{var t={transitionDuration:(h.swiping?0:e.duration)+"ms",transform:"translate"+(e.vertical?"Y":"X")+"("+h.offset+"px)"};if(x.value){var a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=C.value+"px",t[i]=e[i]?e[i]+"px":""}return t})),T=function(t,a){void 0===a&&(a=0);var i=t*x.value;e.loop||(i=Math.min(i,-_.value));var l=a-i;return e.loop||(l=U(l,_.value,0)),l},S=t=>{var{pace:a=0,offset:i=0,emitChange:l}=t;if(!(y.value<=1)){var{active:r}=h,n=(t=>{var{active:a}=h;return t?e.loop?U(a+t,-1,y.value):U(a+t,0,z.value):a})(a),o=T(n,i);if(e.loop){if(m[0]&&o!==_.value){var s=o<_.value;m[0].setOffset(s?C.value:0)}if(m[y.value-1]&&0!==o){var c=o>0;m[y.value-1].setOffset(c?-C.value:0)}}h.active=n,h.offset=o,l&&n!==r&&p("change",j.value)}},Y=()=>{h.swiping=!0,h.active<=-1?S({pace:y.value}):h.active>=y.value&&S({pace:-y.value})},A=()=>{Y(),g.reset(),$((()=>{h.swiping=!1,S({pace:1,emitChange:!0})}))},B=()=>clearTimeout(u),P=()=>{B(),e.autoplay>0&&y.value>1&&(u=setTimeout((()=>{A(),P()}),+e.autoplay))},X=function(t){if(void 0===t&&(t=+e.initialSwipe),w.value){if(!F(w)){var a,i,l={width:w.value.offsetWidth,height:w.value.offsetHeight};h.rect=l,h.width=+(null!=(a=e.width)?a:l.width),h.height=+(null!=(i=e.height)?i:l.height)}y.value&&(t=Math.min(y.value-1,t)),h.active=t,h.swiping=!0,h.offset=T(t),m.forEach((e=>{e.setOffset(0)})),P()}},E=()=>X(h.active),H=t=>{e.touchable&&(g.start(t),d=Date.now(),B(),Y())},R=t=>{e.touchable&&h.swiping&&(g.move(t),(I.value||g.offsetY.value>g.offsetX.value===e.vertical)&&G(t,e.stopPropagation),I.value&&S({offset:k.value}))},V=()=>{if(e.touchable&&h.swiping){var t=Date.now()-d,a=k.value/t;if((Math.abs(a)>.25||Math.abs(k.value)>x.value/2)&&I.value){var i=e.vertical?g.offsetY.value:g.offsetX.value,l=0;l=e.loop?i>0?k.value>0?-1:1:0:-Math[k.value>0?"ceil":"floor"](k.value/x.value),S({pace:l,emitChange:!0})}else k.value&&S({pace:0});h.swiping=!1,P()}},Z=(t,a)=>{var i=a===j.value,l=i?{backgroundColor:e.indicatorColor}:void 0;return v("i",{style:l,class:ie("indicator",{active:i})},null)};return N({prev:()=>{Y(),g.reset(),$((()=>{h.swiping=!1,S({pace:-1,emitChange:!0})}))},next:A,state:h,resize:E,swipeTo:function(t,a){void 0===a&&(a={}),Y(),g.reset(),$((()=>{var i;i=e.loop&&t===y.value?0===h.active?0:t:t%y.value,a.immediate?$((()=>{h.swiping=!1})):h.swiping=!1,S({pace:i-h.active,emitChange:!0})}))}}),b({size:x,props:e,count:y,activeIndicator:j}),r((()=>e.initialSwipe),(e=>X(+e))),r(y,(()=>X(h.active))),r((()=>e.autoplay),P),r([O,D],E),r(q(),(e=>{"visible"===e?P():B()})),n(X),o((()=>X(h.active))),Q((()=>X(h.active))),s(B),c(B),()=>v("div",{ref:w,class:ie()},[v("div",{style:M.value,class:ie("track",{vertical:e.vertical}),onTouchstart:H,onTouchmove:R,onTouchend:V,onTouchcancel:V},[null==f.default?void 0:f.default()]),f.indicator?f.indicator({active:j.value}):e.showIndicators&&y.value>1?v("div",{class:ie("indicators",{vertical:e.vertical})},[Array(y.value).fill("").map(Z)]):void 0])}}),oe=W(ne),[se,ce]=H("swipe-item"),ve=t({name:se,setup(e,t){var a,{slots:r}=t,o=i({offset:0,inited:!1,mounted:!1}),{parent:s,index:c}=J(re);if(s){var d=l((()=>{var e={},{vertical:t}=s.props;return s.size.value&&(e[t?"height":"width"]=s.size.value+"px"),o.offset&&(e.transform="translate"+(t?"Y":"X")+"("+o.offset+"px)"),e})),p=l((()=>{var{loop:e,lazyRender:t}=s.props;if(!t||a)return!0;if(!o.mounted)return!1;var i=s.activeIndicator.value,l=s.count.value-1,r=0===i&&e?l:i-1,n=i===l&&e?0:i+1;return a=c.value===i||c.value===r||c.value===n}));return n((()=>{u((()=>{o.mounted=!0}))})),N({setOffset:e=>{o.offset=e}}),()=>v("div",{class:ce(),style:d.value},[p.value?null==r.default?void 0:r.default():null])}}}),ue=W(ve);const de=["onClick"],pe={key:1,class:"tw-absolute tw-inset-0 tw-bg-white/25 tw-flex tw-items-center tw-justify-center"},fe=t({inheritAttrs:!1}),we=t({...fe,props:{url:null,active:{type:Boolean,default:!1},wrapperClass:{default:""}},setup(e){const t=e,i=a(),{playing:l,muted:o,onSourceError:s}=d(i,{src:t.url}),c=a(!1);s((()=>{c.value=!0}));const v=()=>{c.value||(l.value=!l.value)},u=()=>{o.value=!o.value};return n((()=>{o.value=!0,r((()=>t.active),(e=>{l.value=e}))})),(t,a)=>{const r=x,n=k,s=_,d=z;return p(),f("div",{class:y(["tw-relative tw-text-white",e.wrapperClass]),onClick:v},[w("video",h({ref_key:"video",ref:i,class:"tw-w-full tw-h-full tw-bg-slate-300","object-fit":"cover"},t.$attrs),null,16),g(l)?(p(),f("a",{key:0,class:"tw-absolute tw-right-2 tw-bottom-2",onClick:m(u,["prevent","stop"])},[g(o)?(p(),b(r,{key:0,size:"18"})):(p(),b(n,{key:1,size:"18"}))],8,de)):(p(),f("div",pe,[c.value?(p(),b(s,{key:0,size:"32"})):(p(),b(d,{key:1,size:"32"}))]))],2)}}}),he={class:"tw-absolute tw-px-2 tw-left-1/2 tw--translate-x-1/2 tw-bottom-2 tw-text-sm tw-text-white tw-text-center"},ge={key:1,class:"tw-w-full tw-h-[320px] tw-bg-light"},me=t({props:{items:{default:()=>[]}},setup(e){const t=e,i=a(0),r=e=>{i.value=e},n=l((()=>t.items.slice(0,9))),o=l((()=>n.value.length));return(t,a)=>{const l=we,s=P,c=ue,v=oe;return e.items.length?(p(),b(v,{key:0,onChange:r},{indicator:C((({active:e})=>[w("div",he,j(e+1)+"/"+j(g(o)),1)])),default:C((()=>[(p(!0),f(M,null,I(g(n),((e,t)=>(p(),b(c,{key:e.url},{default:C((()=>[e.isVideo?(p(),b(l,{key:0,"wrapper-class":"tw-w-full tw-h-[320px]",url:e.url,active:i.value===t,crossorigin:"anonymous"},null,8,["url","active"])):(p(),b(s,{key:1,class:"tw-w-full tw-h-[320px]",src:e.url,fit:"cover"},null,8,["src"]))])),_:2},1024)))),128))])),_:1})):(p(),f("div",ge))}}});var be={};const ye={class:"tw-h-full tw-relative tw-bg-white tw-pb-[56px]"},xe={class:"tw-article tw-leading-normal"},ke={class:"tw-space-y-3"},_e={class:"tw-text-primary tw-text-lg tw-font-bold"},ze=w("span",{class:"tw-ml-1 tw-text-primary tw-text-xs"},"元/月",-1),Ce={class:"tw-font-bold"},je={class:"tw-text-medium tw-text-sm"},Ie={class:"tw-h-[56px] tw-leading-[px] tw-flex tw-items-center tw-px-4 tw-fixed tw-bottom-0 tw-left-0 tw-right-0 tw-shadow tw-shadow-primary tw-bg-white"},Me=Y(" 加入购物车 "),Te=Y(" 立刻购买 "),Se=e("default",t({props:{id:null},setup(e){const t=e,{data:a,isPending:i,errorMessage:l,request:n}=te();r((()=>l.value),(e=>{ee.fail(e)})),n(t.id);const o=X();r((()=>o.itemAddingErrorMessage),(e=>{e&&ee(e)}));const s=()=>{o.addItem({...a.value,quantity:1})};return(e,t)=>{const l=me,r=E,n=P,c=B,u=A,d=T("router-link");return p(),f("article",ye,[v(l,{items:g(a).bannerImageList},null,8,["items"]),w("div",xe,[v(r,{title:"",avatar:"",row:3,loading:g(i)},{default:C((()=>[w("div",ke,[w("p",null,[w("span",_e,j(g(a).price),1),ze]),w("p",Ce,j(g(a).title),1),w("p",je,j(g(a).body),1)])])),_:1},8,["loading"])]),g(a).detailImage?(p(),b(n,{key:0,class:"tw-w-full",fit:"cover",src:g(a).detailImage},null,8,["src"])):S("",!0),w("footer",Ie,[v(c),v(u,{class:"!tw-ml-auto",color:"var(--color-secondary)",round:"",disabled:g(o).isItemAdding,onClick:s},{default:C((()=>[Me])),_:1},8,["disabled"]),v(d,{to:"/mobile/order"},{default:C((()=>[v(u,{class:"!tw-ml-3",type:"primary",round:""},{default:C((()=>[Te])),_:1})])),_:1})])])}}}));"function"==typeof be&&be(Se)}}}))}();
