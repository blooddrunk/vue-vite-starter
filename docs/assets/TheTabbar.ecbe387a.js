import{d as e,l as a,f as t,b1 as o,n as l,af as r,ax as s,bp as n,bq as i,bj as d,ag as u,o as m,c,w as p,a as v,b as f,av as b,a4 as g,e as x,t as h,L as y,F as C}from"./vendor.a4ef30fa.js";import{h as V,e as j,t as k,n as B,k as I,C as N,N as S,w,d as z,y as A,g as P,a as _,I as F}from"./index.30fefea8.js";import{u as $}from"./use-placeholder.bdb1b7e5.js";import{c as q}from"./interceptor.86502246.js";import{u as L,r as U}from"./use-route.1f47bd5d.js";var[D,E]=j("tabbar"),G={route:Boolean,fixed:k,border:k,zIndex:B,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:I(0),safeAreaInsetBottom:{type:Boolean,default:null}},H=Symbol(D),J=w(e({name:D,props:G,emits:["change","update:modelValue"],setup(e,o){var{emit:l,slots:r}=o,s=a(),{linkChildren:n}=V(H),i=$(s,E),d=()=>{var a,{fixed:o,zIndex:l,border:n}=e;return t("div",{ref:s,role:"tablist",style:N(l),class:[E({fixed:o}),{[S]:n,"van-safe-area-bottom":null!=(a=e.safeAreaInsetBottom)?a:e.fixed}]},[null==r.default?void 0:r.default()])};return n({props:e,setActive:(a,t)=>{q(e.beforeChange,{args:[a],done(){l("update:modelValue",a),l("change",a),t()}})}}),()=>e.fixed&&e.placeholder?i(d):d()}})),[K,M]=j("tabbar-item"),O=w(e({name:K,props:P({},U,{dot:Boolean,icon:String,name:B,badge:B,iconPrefix:String}),emits:["click"],setup(e,a){var{emit:r,slots:s}=a,n=L(),i=o().proxy,{parent:d,index:u}=z(H);if(d){var m=l((()=>{var a,{route:t,modelValue:o}=d.props;if(t&&"$route"in i){var{$route:l}=i,{to:r}=e,s=_(r)?r:{path:r};return!!l.matched.find((e=>{var a="path"in s&&s.path===e.path,t="name"in s&&s.name===e.name;return a||t}))}return(null!=(a=e.name)?a:u.value)===o})),c=a=>{var t;m.value||d.setActive(null!=(t=e.name)?t:u.value,n);r("click",a)},p=()=>s.icon?s.icon({active:m.value}):e.icon?t(F,{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var{dot:a,badge:o}=e,{activeColor:l,inactiveColor:r}=d.props,n=m.value?l:r;return t("div",{role:"tab",class:M({active:m.value}),style:{color:n},tabindex:0,"aria-selected":m.value,onClick:c},[t(A,{dot:a,content:o,class:M("icon")},{default:p}),t("div",{class:M("text")},[null==s.default?void 0:s.default({active:m.value})])])}}}}));const Q=e({setup(e){const t=r(),o=s([{name:"分类",path:"/mobile/category",routeName:"mobile-category",icon:n,dot:!1,badge:""},{name:"定制",path:"/mobile/customization",routeName:"mobile-customization",icon:i,dot:!1,badge:""},{name:"我的",path:"/mobile/user",routeName:"mobile-user",icon:d,dot:!1,badge:""}]),l=a(t.name);return u((()=>t.name),(e=>{l.value=e})),(e,a)=>{const t=O,r=J;return m(),c(r,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),class:"!tw-fixed"},{default:p((()=>[(m(!0),v(C,null,f(y(o),(e=>(m(),c(t,{key:e.name,name:e.routeName,to:e.path,dot:e.dot,badge:e.badge},{icon:p((({active:a})=>[(m(),c(b(e.icon),{class:g(a&&"tw-text-primary")},null,8,["class"]))])),default:p((()=>[x("span",null,h(e.name),1)])),_:2},1032,["name","to","dot","badge"])))),128))])),_:1},8,["modelValue"])}}});export{Q as _};
