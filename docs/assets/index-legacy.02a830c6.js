!function(){var e=document.createElement("style");e.innerHTML=":root{--van-switch-size:30px;--van-switch-width:2em;--van-switch-height:1em;--van-switch-node-size:1em;--van-switch-node-background-color:var(--van-white);--van-switch-node-box-shadow:0 3px 1px 0 rgba(0,0,0,.05),0 2px 2px 0 rgba(0,0,0,.1),0 3px 3px 0 rgba(0,0,0,.05);--van-switch-background-color:var(--van-background-color-light);--van-switch-on-background-color:var(--van-primary-color);--van-switch-transition-duration:var(--van-animation-duration-base);--van-switch-disabled-opacity:var(--van-disabled-opacity);--van-switch-border:var(--van-border-width-base) solid rgba(0,0,0,.1)}.van-switch{background:var(--van-switch-background-color);border:var(--van-switch-border);border-radius:var(--van-switch-node-size);box-sizing:content-box;cursor:pointer;display:inline-block;font-size:var(--van-switch-size);height:var(--van-switch-height);position:relative;transition:background-color var(--van-switch-transition-duration);width:var(--van-switch-width)}.van-switch__node{background:var(--van-switch-node-background-color);border-radius:100%;box-shadow:var(--van-switch-node-box-shadow);font-size:inherit;height:var(--van-switch-node-size);left:0;position:absolute;top:0;transition:transform var(--van-switch-transition-duration) cubic-bezier(.3,1.05,.4,1.05);width:var(--van-switch-node-size)}.van-switch__loading{height:50%;left:25%;line-height:1;top:25%;width:50%}.van-switch--on{background:var(--van-switch-on-background-color)}.van-switch--on .van-switch__node{transform:translate(calc(var(--van-switch-width) - var(--van-switch-node-size)))}.van-switch--on .van-switch__loading{color:var(--van-switch-on-background-color)}.van-switch--disabled{cursor:not-allowed;opacity:var(--van-switch-disabled-opacity)}.van-switch--loading{cursor:default}:root{--van-address-edit-padding:var(--van-padding-sm);--van-address-edit-buttons-padding:var(--van-padding-xl) var(--van-padding-base);--van-address-edit-button-margin-bottom:var(--van-padding-sm);--van-address-edit-button-font-size:var(--van-font-size-lg)}.van-address-edit{padding:var(--van-address-edit-padding)}.van-address-edit__fields{border-radius:var(--van-padding-xs);overflow:hidden}.van-address-edit__fields .van-field__label{width:4.1em}.van-address-edit__default{border-radius:var(--van-padding-xs);margin-top:var(--van-padding-sm);overflow:hidden}.van-address-edit__buttons{padding:var(--van-address-edit-buttons-padding)}.van-address-edit__button{font-size:var(--van-address-edit-button-font-size);margin-bottom:var(--van-address-edit-button-margin-bottom)}.van-address-edit-detail__search-item{background:var(--van-gray-2)}.van-address-edit-detail__keyword{color:var(--van-danger-color)}\n",document.head.appendChild(e),System.register(["./vendor-legacy.a2d7269a.js","./on-popup-reopen-legacy.ce7ff038.js","./index-legacy.6da3e057.js","./index-legacy.1a48ac8b.js","./index-legacy.38433af3.js","./index-legacy.4d6ca972.js","./function-call-legacy.6b407d2e.js","./index-legacy.a9020a9c.js"],(function(e){"use strict";var a,t,l,o,n,r,s,i,d,u,c,v,h,g,m,p,b,f,w,y,x,C,k,V,B,_,S,D,z,A,F,R,j,P;return{setters:[function(e){a=e.d,t=e.f,l=e.l,o=e.F,n=e.aV,r=e.n,s=e.ag,i=e.a6,d=e.aY,u=e.aX},function(e){c=e.u},function(e){v=e.A},function(e){h=e.C},function(e){g=e.q,m=e.c,p=e.n,b=e.t,f=e.m,w=e.F,y=e.p,x=e.w,C=e.v,k=e.j,V=e.a,B=e.f,_=e.e,S=e.l,D=e.x,z=e.y},function(e){A=e.F},function(e){F=e.P,R=e.T},function(e){j=e.L,P=e.B}],execute:function(){var[E,T]=m("form"),L={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:p,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:b,validateTrigger:f("onBlur"),showErrorMessage:b,errorMessageAlign:String},M=a({name:E,props:L,emits:["submit","failed"],setup(e,a){var{emit:l,slots:o}=a,{children:n,linkChildren:r}=g(w),s=e=>e?n.filter((a=>e.includes(a.name))):n,i=a=>{return"string"==typeof a?(e=>{var a=n.find((a=>a.name===e));return a?new Promise(((e,t)=>{a.validate().then((a=>{a?t(a):e()}))})):Promise.reject()})(a):e.validateFirst?(t=a,new Promise(((e,a)=>{var l=[];s(t).reduce(((e,a)=>e.then((()=>{if(!l.length)return a.validate().then((e=>{e&&l.push(e)}))}))),Promise.resolve()).then((()=>{l.length?a(l):e()}))}))):(e=>new Promise(((a,t)=>{var l=s(e);Promise.all(l.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?t(e):a()}))})))(a);var t},d=(e,a)=>{n.some((t=>t.name===e&&(t.$el.scrollIntoView(a),!0)))},u=()=>{var a=n.reduce(((e,a)=>(e[a.name]=a.formValue.value,e)),{});i().then((()=>l("submit",a))).catch((t=>{l("failed",{values:a,errors:t}),e.scrollToError&&t[0].name&&d(t[0].name)}))},v=e=>{y(e),u()};return r({props:e}),c({submit:u,validate:i,scrollToField:d,resetValidation:e=>{"string"==typeof e&&(e=[e]),s(e).forEach((e=>{e.resetValidation()}))}}),()=>t("form",{class:T(),onSubmit:v},[null==o.default?void 0:o.default()])}}),I=x(M),[U,O]=m("switch"),H={size:p,loading:Boolean,disabled:Boolean,modelValue:V,activeColor:String,inactiveColor:String,activeValue:{type:V,default:!0},inactiveValue:{type:V,default:!1}},$=a({name:U,props:H,emits:["change","update:modelValue"],setup(e,a){var{emit:l}=a,o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){var a=o()?e.inactiveValue:e.activeValue;l("update:modelValue",a),l("change",a)}},r=()=>{if(e.loading){var a=o()?e.activeColor:e.inactiveColor;return t(j,{class:O("loading"),color:a},null)}};return C((()=>e.modelValue)),()=>{var{size:a,loading:l,disabled:s,activeColor:i,inactiveColor:d}=e,u=o(),c={fontSize:k(a),backgroundColor:u?i:d};return t("div",{role:"switch",class:O({on:u,loading:l,disabled:s}),style:c,tabindex:s?void 0:0,"aria-checked":u,onClick:n},[t("div",{class:O("node")},[r()])])}}}),q=x($),[W,X,Y]=m("address-edit-detail"),G=a({name:W,props:{show:Boolean,rows:p,value:String,rules:Array,focused:Boolean,maxlength:p,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,a){var{emit:n}=a,r=l(),s=()=>e.focused&&e.searchResult&&e.showSearchResult,i=()=>{if(s()){var{searchResult:a}=e;return a.map((a=>t(h,{clickable:!0,key:a.name+a.address,icon:"location-o",label:a.address,class:X("search-item"),border:!1,onClick:()=>(e=>{n("select-search",e),n("input",((e.address||"")+" "+(e.name||"")).trim())})(a)},{title:()=>(a=>{if(a.name){var l=a.name.replace(e.value,"<span class="+X("keyword")+">"+e.value+"</span>");return t("div",{innerHTML:l},null)}})(a)})))}},d=e=>n("blur",e),u=e=>n("focus",e),c=e=>n("input",e);return()=>{if(e.show)return t(o,null,[t(A,{autosize:!0,clearable:!0,ref:r,class:X(),rows:e.rows,type:"textarea",rules:e.rules,label:Y("label"),border:!s(),maxlength:e.maxlength,modelValue:e.value,placeholder:Y("placeholder"),onBlur:d,onFocus:u,"onUpdate:modelValue":c},null),i()])}}}),[J,K,N]=m("address-edit"),Q={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},Z={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:b,showDetail:b,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:p,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:S(1),detailMaxlength:S(200),areaColumnsPlaceholder:D(),addressInfo:{type:Object,default:()=>_({},Q)},telValidator:{type:Function,default:z},postalValidator:{type:Function,default:e=>/^\d{6}$/.test(e)}},ee=a({name:J,props:Z,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,a){var{emit:o,slots:g}=a,m=l(),p=n({}),b=l(!1),f=l(!1),w=r((()=>B(e.areaList)&&Object.keys(e.areaList).length)),y=r((()=>{var{country:e,province:a,city:t,county:l,areaCode:o}=p;if(o){var n=[e,a,t,l];return a&&a===t&&n.splice(1,1),n.filter(Boolean).join("/")}return""})),x=r((()=>{var a;return(null==(a=e.searchResult)?void 0:a.length)&&f.value})),C=()=>{if(m.value){var e=m.value.getArea();e.areaCode=e.code,delete e.code,_(p,e)}},k=e=>{f.value="addressDetail"===e,o("focus",e)},V=r((()=>{var{validator:a,telValidator:t,postalValidator:l}=e,o=(e,t)=>({validator:l=>{if(a){var o=a(e,l);if(o)return o}return!!l||t}});return{name:[o("name",N("nameEmpty"))],tel:[o("tel",N("telInvalid")),{validator:t,message:N("telInvalid")}],areaCode:[o("areaCode",N("areaEmpty"))],addressDetail:[o("addressDetail",N("addressEmpty"))],postalCode:[o("addressDetail",N("postalEmpty")),{validator:l,message:N("postalEmpty")}]}})),S=()=>o("save",p),D=e=>{p.addressDetail=e,o("change-detail",e)},z=e=>{(e=e.filter(Boolean)).some((e=>!e.code))?R(N("areaEmpty")):(b.value=!1,C(),o("change-area",e))},j=()=>o("delete",p),E=e=>{p.areaCode=e||"",e&&u(C)},T=()=>{setTimeout((()=>{f.value=!1}))},L=()=>{if(e.showSetDefault){var a={"right-icon":()=>t(q,{modelValue:p.isDefault,"onUpdate:modelValue":e=>p.isDefault=e,size:"24",onChange:e=>o("change-default",e)},null)};return i(t(h,{center:!0,title:N("defaultAddress"),class:K("default")},a),[[d,!x.value]])}};return c({getArea:()=>{var e;return(null==(e=m.value)?void 0:e.getValues())||[]},setAreaCode:E,setAddressDetail:e=>{p.addressDetail=e}}),s((()=>e.areaList),(()=>E(p.areaCode))),s((()=>e.addressInfo),(e=>{_(p,Q,e),E(e.areaCode)}),{deep:!0,immediate:!0}),()=>{var{disableArea:a}=e;return t(I,{class:K(),onSubmit:S},{default:()=>[t("div",{class:K("fields")},[t(A,{modelValue:p.name,"onUpdate:modelValue":e=>p.name=e,clearable:!0,label:N("name"),rules:V.value.name,placeholder:N("name"),onFocus:()=>k("name")},null),t(A,{modelValue:p.tel,"onUpdate:modelValue":e=>p.tel=e,clearable:!0,type:"tel",label:N("tel"),rules:V.value.tel,maxlength:e.telMaxlength,placeholder:N("tel"),onFocus:()=>k("tel")},null),i(t(A,{readonly:!0,label:N("area"),"is-link":!a,modelValue:y.value,rules:V.value.areaCode,placeholder:e.areaPlaceholder||N("area"),onFocus:()=>k("areaCode"),onClick:()=>{o("click-area"),b.value=!a}},null),[[d,e.showArea]]),t(G,{show:e.showDetail,rows:e.detailRows,rules:V.value.addressDetail,value:p.addressDetail,focused:f.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:T,onFocus:()=>k("addressDetail"),onInput:D,"onSelect-search":e=>o("select-search",e)},null),e.showPostal&&i(t(A,{modelValue:p.postalCode,"onUpdate:modelValue":e=>p.postalCode=e,type:"tel",rules:V.value.postalCode,label:N("postal"),maxlength:"6",placeholder:N("postal"),onFocus:()=>k("postalCode")},null),[[d,!x.value]]),null==g.default?void 0:g.default()]),L(),i(t("div",{class:K("buttons")},[t(P,{block:!0,round:!0,type:"danger",text:e.saveButtonText||N("save"),class:K("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&t(P,{block:!0,round:!0,class:K("button"),loading:e.isDeleting,text:e.deleteButtonText||N("delete"),onClick:j},null)]),[[d,!x.value]]),t(F,{show:b.value,"onUpdate:show":e=>b.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[t(v,{ref:m,value:p.areaCode,loading:!w.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:z,onCancel:()=>{b.value=!1}},null)]})]})}}});e("A",x(ee))}}}))}();
