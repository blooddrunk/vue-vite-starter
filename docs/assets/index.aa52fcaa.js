var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{d as n,f as d,aZ as l,k as u,l as c,ag as m,n as p}from"./vendor.e60456f3.js";import{j as g,c as h,l as v,t as y,n as f,m as P,P as q,w as j}from"./index.84f5d824.js";import"./index.9bc79dd0.js";import{u as I}from"./useAxios.d5dc9735.js";import{p as b,a as M}from"./math.c4a34419.js";var[w,S]=h("skeleton"),O=j(n({name:w,props:{row:v(0),title:Boolean,round:Boolean,avatar:Boolean,loading:y,animate:y,avatarSize:f,titleWidth:f,avatarShape:P("round"),rowWidth:{type:[Number,String,Array],default:"100%"}},setup(e,t){var{slots:a}=t,r=()=>{if(e.avatar)return d("div",{class:S("avatar",e.avatarShape),style:q(e.avatarSize)},null)},s=()=>{if(e.title)return d("h3",{class:S("title"),style:{width:g(e.titleWidth)}},null)},i=t=>{var{rowWidth:a}=e;return"100%"===a&&t===+e.row-1?"60%":Array.isArray(a)?a[t]:a};return()=>e.loading?d("div",{class:S({animate:e.animate,round:e.round})},[r(),d("div",{class:S("content")},[s(),Array(e.row).fill("").map(((e,t)=>d("div",{class:S("row"),style:{width:g(i(t))}},null)))])]):null==a.default?void 0:a.default()}}));const _=()=>I([],{url:"https://jsonplaceholder.typicode.com/posts",__needValidation:!1,__transformData:e=>(e||[]).map((e=>{return n=((e,t)=>{for(var a in t||(t={}))s.call(t,a)&&o(e,a,t[a]);if(r)for(var a of r(t))i.call(t,a)&&o(e,a,t[a]);return e})({},e),d={price:b(l(1,500,!0)),thumbnail:"http://via.placeholder.com/240x240",quantity:l(1,10)},t(n,a(d));var n,d})).slice(0,10)}),k=u("cart",(()=>{const e=c({remarks:"",isServiceAgreementChecked:!1}),{data:t,isPending:a,errorMessage:r,request:s}=_(),{data:i,isPending:o,isSuccessful:n,errorMessage:d,request:l}=(()=>{const{data:e,isPending:t,isSuccessful:a,errorMessage:r,request:s}=I({},{url:"https://jsonplaceholder.typicode.com/posts",method:"post",__needValidation:!1});return{data:e,isPending:t,isSuccessful:a,errorMessage:r,request:e=>s({data:e})}})();m(n,(e=>{e&&(t.value=[...t.value,i.value])}));const{data:u,isPending:g,errorMessage:h,request:v}=(()=>{const{data:e,isPending:t,errorMessage:a,request:r}=I({},{method:"patch",__needValidation:!1});return{data:e,isPending:t,errorMessage:a,request:e=>r({url:`https://jsonplaceholder.typicode.com/posts/${e.id}`,data:{quantity:e.quantity}})}})(),{data:y,isPending:f,errorMessage:P,request:q}=(()=>{const{data:e,isPending:t,isSuccessful:a,errorMessage:r,request:s}=I({},{method:"delete",__needValidation:!1});return{data:e,isPending:t,isSuccessful:a,errorMessage:r,request:e=>s({url:`https://jsonplaceholder.typicode.com/posts/${e.id}`})}})(),j=p((()=>t.value.reduce(((e,t)=>t.quantity+e),0))),b=p((()=>M(t.value.reduce(((e,t)=>t.quantity*t.price+e),0)))),w=p((()=>t.value.filter((e=>e.checked)))),S=p((()=>!!w.value.length)),O=p((()=>w.value.reduce(((e,t)=>t.quantity+e),0))),k=p((()=>M(w.value.reduce(((e,t)=>t.quantity*t.price+e),0))));return{stagedOrderInfo:e,items:t,isItemsLoading:a,itemsLoadingErrorMessage:r,isItemsEmpty:p((()=>!t.value.length)),getItems:s,addedItem:i,isItemAdding:o,itemAddingErrorMessage:d,addItem:l,patchedItem:u,isItemPatching:g,itemPatchingErrorMessage:h,patchItem:v,removedItem:y,isItemRemoving:f,itemRemovingErrorMessage:P,removeItem:q,quantity:j,totalPrice:b,checkedItems:w,hasCheckedItems:S,checkedQuantity:O,checkedTotalPrice:k}}));export{O as S,k as u};
