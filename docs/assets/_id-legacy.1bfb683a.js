!function(){var e=document.createElement("style");e.innerHTML=':root{--van-action-sheet-max-height:80%;--van-action-sheet-header-height:48px;--van-action-sheet-header-font-size:var(--van-font-size-lg);--van-action-sheet-description-color:var(--van-text-color-2);--van-action-sheet-description-font-size:var(--van-font-size-md);--van-action-sheet-description-line-height:var(--van-line-height-md);--van-action-sheet-item-background:var(--van-background-color-light);--van-action-sheet-item-font-size:var(--van-font-size-lg);--van-action-sheet-item-line-height:var(--van-line-height-lg);--van-action-sheet-item-text-color:var(--van-text-color);--van-action-sheet-item-disabled-text-color:var(--van-text-color-3);--van-action-sheet-subname-color:var(--van-text-color-2);--van-action-sheet-subname-font-size:var(--van-font-size-sm);--van-action-sheet-subname-line-height:var(--van-line-height-sm);--van-action-sheet-close-icon-size:22px;--van-action-sheet-close-icon-color:var(--van-gray-5);--van-action-sheet-close-icon-padding:0 var(--van-padding-md);--van-action-sheet-cancel-text-color:var(--van-gray-7);--van-action-sheet-cancel-padding-top:var(--van-padding-xs);--van-action-sheet-cancel-padding-color:var(--van-background-color);--van-action-sheet-loading-icon-size:22px}.van-action-sheet{color:var(--van-action-sheet-item-text-color);display:flex;flex-direction:column;max-height:var(--van-action-sheet-max-height);overflow:hidden}.van-action-sheet__content{-webkit-overflow-scrolling:touch;flex:1 auto;overflow-y:auto}.van-action-sheet__cancel,.van-action-sheet__item{background:var(--van-action-sheet-item-background);border:none;cursor:pointer;display:block;font-size:var(--van-action-sheet-item-font-size);padding:14px var(--van-padding-md);width:100%}.van-action-sheet__cancel:active,.van-action-sheet__item:active{background-color:var(--van-active-color)}.van-action-sheet__item{line-height:var(--van-action-sheet-item-line-height)}.van-action-sheet__item--disabled,.van-action-sheet__item--loading{color:var(--van-action-sheet-item-disabled-text-color)}.van-action-sheet__item--disabled:active,.van-action-sheet__item--loading:active{background-color:var(--van-action-sheet-item-background)}.van-action-sheet__item--disabled{cursor:not-allowed}.van-action-sheet__item--loading{cursor:default}.van-action-sheet__cancel{box-sizing:border-box;color:var(--van-action-sheet-cancel-text-color);flex-shrink:0}.van-action-sheet__subname{color:var(--van-action-sheet-subname-color);font-size:var(--van-action-sheet-subname-font-size);line-height:var(--van-action-sheet-subname-line-height);margin-top:var(--van-padding-xs)}.van-action-sheet__gap{background:var(--van-action-sheet-cancel-padding-color);display:block;height:var(--van-action-sheet-cancel-padding-top)}.van-action-sheet__header{flex-shrink:0;font-size:var(--van-action-sheet-header-font-size);font-weight:var(--van-font-weight-bold);line-height:var(--van-action-sheet-header-height);text-align:center}.van-action-sheet__description{color:var(--van-action-sheet-description-color);flex-shrink:0;font-size:var(--van-action-sheet-description-font-size);line-height:var(--van-action-sheet-description-line-height);padding:20px var(--van-padding-md);position:relative;text-align:center}.van-action-sheet__description:after{border-bottom:1px solid var(--van-border-color);bottom:0;box-sizing:border-box;content:" ";left:var(--van-padding-md);pointer-events:none;position:absolute;right:var(--van-padding-md);transform:scaleY(.5)}.van-action-sheet__loading-icon .van-loading__spinner{height:var(--van-action-sheet-loading-icon-size);width:var(--van-action-sheet-loading-icon-size)}.van-action-sheet__close{color:var(--van-action-sheet-close-icon-color);font-size:var(--van-action-sheet-close-icon-size);line-height:inherit;padding:var(--van-action-sheet-close-icon-padding);position:absolute;right:0;top:0}\n',document.head.appendChild(e),System.register(["./vendor-legacy.a2d7269a.js","./PageFooter-legacy.e0527439.js","./index-legacy.bb9b7a5c.js","./index-legacy.1a48ac8b.js","./CartList-legacy.c9ee6c2e.js","./index-legacy.a908397c.js","./order-legacy.710fdc71.js","./index-legacy.fa22f2bf.js","./index-legacy.38433af3.js","./function-call-legacy.6b407d2e.js","./index-legacy.a9020a9c.js","./CartItem-legacy.69773a30.js","./index-legacy.e2527bd7.js","./index-legacy.cb0a2208.js","./useAxios-legacy.97e1062a.js","./math-legacy.0b21c3d7.js","./on-popup-reopen-legacy.ce7ff038.js","./interceptor-legacy.247dd095.js","./index-legacy.01a7a724.js","./index-legacy.eeea84a6.js"],(function(e){"use strict";var n,t,a,o,i,c,l,s,r,d,v,u,h,g,f,m,p,b,_,x,y,w,k,z,j,C,I,P,T,L,A,S,B,N,O,E,F,H,M,R;return{setters:[function(e){n=e.d,t=e.f,a=e.a8,o=e.aX,i=e.n,c=e.l,l=e.o,s=e.a,r=e.L,d=e.c,v=e.F,u=e.w,h=e.e,g=e.a7,f=e.t,m=e.g},function(e){p=e._},function(e){b=e.C},function(e){_=e.C},function(e){x=e._},function(e){y=e.E},function(e){w=e.u,k=e.c},function(e){z=e.g},function(e){j=e.G,C=e.c,I=e.e,P=e.t,T=e.x,L=e.m,A=e.I,S=e.H,B=e.w},function(e){N=e.P,O=e.p,E=e.a,F=e.T},function(e){H=e.L,M=e.B},function(e){R=e.D},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var[U,q]=C("action-sheet"),D=I({},O,{title:String,round:P,actions:T(),closeIcon:L("cross"),closeable:P,cancelText:String,description:String,closeOnPopstate:P,closeOnClickAction:Boolean,safeAreaInsetBottom:P}),G=[...E,"round","closeOnPopstate","safeAreaInsetBottom"],X=n({name:U,props:D,emits:["select","cancel","update:show"],setup(e,n){var{slots:i,emit:c}=n,l=e=>c("update:show",e),s=()=>{l(!1),c("cancel")},r=()=>{if(e.title)return t("div",{class:q("header")},[e.title,e.closeable&&t(A,{name:e.closeIcon,class:[q("close"),S],onClick:s},null)])},d=()=>{if(i.cancel||e.cancelText)return[t("div",{class:q("gap")},null),t("button",{type:"button",class:q("cancel"),onClick:s},[i.cancel?i.cancel():e.cancelText])]},v=(n,a)=>{var{name:i,color:s,subname:r,loading:d,callback:v,disabled:u,className:h}=n,g=d?t(H,{class:q("loading-icon")},null):[t("span",{class:q("name")},[i]),r&&t("div",{class:q("subname")},[r])];return t("button",{type:"button",style:{color:s},class:[q("item",{loading:d,disabled:u}),h],onClick:()=>{u||d||(v&&v(n),e.closeOnClickAction&&l(!1),o((()=>c("select",n,a))))}},[g])},u=()=>{if(e.description||i.description){var n=i.description?i.description():e.description;return t("div",{class:q("description")},[n])}};return()=>t(N,a({class:q(),position:"bottom","onUpdate:show":l},j(e,G)),{default:()=>[r(),u(),t("div",{class:q("content")},[e.actions.map(v),null==i.default?void 0:i.default()]),d()]})}}),Y=B(X),J={};const K={class:"tw-article tw-article_has-footer"},Q=m(" ￥ "),V={class:"tw-font-semibold"},W=h("span",null,[m(" ￥ "),h("strong",{class:"tw-font-semibold"}," -- ")],-1),Z=m(" ￥ "),$={class:"tw-font-bold"},ee={class:"tw-mt-3"},ne=h("header",null,[h("h3",{class:"tw-p-2 tw-text-sm tw-font-bold"},"订单信息")],-1),te=m(" 撤单 "),ae=e("default",n({props:{id:null},setup(e){const n=e,a=w();a.isItemsEmpty&&a.getItems();const o=i((()=>a.items.find((e=>e.orderNumber===n.id)))),j=i((()=>!o.value&&!a.isItemsLoading)),{isPending:C,request:I}=k((()=>{F("撤单成功")}),(e=>{F(e.message)})),P=c(-1),T=i((()=>[{name:"信息填写错误"},{name:"不想要了"},{name:"商品错选/多选"}].map(((e,n)=>n===P.value?{...e,loading:C.value}:e)))),L=c(!1),A=async(e,n)=>{try{await R.confirm({title:"提示",message:"是否确认撤单？"}),P.value=n,console.log(e),I(o.value)}catch(t){}};return(e,n)=>{var i,c;const w=y,k=x,I=_,P=b,S=M,B=p,N=Y;return l(),s("article",K,[r(j)?(l(),d(w,{key:0,image:"error",description:"出错了"})):(l(),s(v,{key:1},[t(k,{items:null!==(i=null===(c=r(o))||void 0===c?void 0:c.items)&&void 0!==i?i:[],loading:r(a).isItemsLoading,readonly:""},null,8,["items","loading"]),t(P,{class:"!tw-mt-6 !tw-mx-0",inset:""},{default:u((()=>[t(I,{title:"商品金额"},{default:u((()=>{var e;return[h("span",null,[Q,h("strong",V,f(r(z)(null===(e=r(o))||void 0===e?void 0:e.totalPrice).value),1)])]})),_:1}),t(I,{title:"配送+安装费"},{default:u((()=>[W])),_:1}),t(I,{title:"实付"},{default:u((()=>{var e;return[h("span",null,[Z,h("strong",$,f(r(z)(null===(e=r(o))||void 0===e?void 0:e.totalPrice).value),1)])]})),_:1})])),_:1}),h("div",ee,[ne,t(P,{class:"!tw-mx-0",inset:""},{default:u((()=>[t(I,{title:"服务地址"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.address).value),1)]})),_:1}),t(I,{title:"订单编号"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.orderNumber).value),1)]})),_:1}),t(I,{title:"CRM订单号"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.crmNumber).value),1)]})),_:1}),t(I,{title:"下单时间"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.orderTime).value),1)]})),_:1}),t(I,{title:"上门时间"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.serviceTime).value),1)]})),_:1}),t(I,{title:"撤单原因"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.cancelReason).value),1)]})),_:1}),t(I,{title:"订单备注"},{default:u((()=>{var e;return[m(f(r(z)(null===(e=r(o))||void 0===e?void 0:e.remarks).value),1)]})),_:1})])),_:1})])],64)),t(B,{class:"tw-justify-end"},{default:u((()=>[t(S,{class:"tw-w-20",type:"danger",plain:"",round:"",size:"small",loading:r(C),onClick:n[0]||(n[0]=e=>L.value=!0)},{default:u((()=>[te])),_:1},8,["loading"])])),_:1}),r(o)?(l(),d(N,{key:2,show:L.value,"onUpdate:show":n[1]||(n[1]=e=>L.value=e),description:"申请撤单",actions:r(T),"close-on-click-action":"",onSelect:A},null,8,["show","actions"])):g("",!0)])}}}));"function"==typeof J&&J(ae)}}}))}();
