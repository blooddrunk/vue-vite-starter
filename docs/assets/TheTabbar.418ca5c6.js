import{l as a,aa as e,aX as t,f as o,d as l,aU as n,n as r,af as s,ax as i,bm as u,bn as d,bb as c,bo as m,ag as v,o as p,c as b,w as f,a as g,b as h,av as x,a4 as y,e as C,t as V,L as B,F as k}from"./vendor.e60456f3.js";import{W as I,q as N,c as S,t as w,n as z,l as A,L as j,a4 as P,w as $,u as _,h as F,$ as L,e as U,r as q,f as W,I as X}from"./index.84f5d824.js";import{c as D}from"./interceptor.f210eca8.js";function E(l,n){var r=(o=>{var l=a();return e((()=>t((()=>{l.value=I(o).height})))),l})(l);return a=>o("div",{class:n("placeholder"),style:{height:r.value?r.value+"px":void 0}},[a()])}var[G,H]=S("tabbar"),J={route:Boolean,fixed:w,border:w,zIndex:z,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:A(0),safeAreaInsetBottom:{type:Boolean,default:null}},K=Symbol(G),M=$(l({name:G,props:J,emits:["change","update:modelValue"],setup(e,t){var{emit:l,slots:n}=t,r=a(),{linkChildren:s}=N(K),i=E(r,H),u=()=>{var a,{fixed:t,zIndex:l,border:s}=e;return o("div",{ref:r,role:"tablist",style:j(l),class:[H({fixed:t}),{[P]:s,"van-safe-area-bottom":null!=(a=e.safeAreaInsetBottom)?a:e.fixed}]},[null==n.default?void 0:n.default()])};return s({props:e,setActive:(a,t)=>{D(e.beforeChange,{args:[a],done(){l("update:modelValue",a),l("change",a),t()}})}}),()=>e.fixed&&e.placeholder?i(u):u()}})),[O,Q]=S("tabbar-item"),R=$(l({name:O,props:U({},q,{dot:Boolean,icon:String,name:z,badge:z,iconPrefix:String}),emits:["click"],setup(a,e){var{emit:t,slots:l}=e,s=_(),i=n().proxy,{parent:u,index:d}=F(K);if(u){var c=r((()=>{var e,{route:t,modelValue:o}=u.props;if(t&&"$route"in i){var{$route:l}=i,{to:n}=a,r=W(n)?n:{path:n};return!!l.matched.find((a=>{var e="path"in r&&r.path===a.path,t="name"in r&&r.name===a.name;return e||t}))}return(null!=(e=a.name)?e:d.value)===o})),m=e=>{var o;c.value||u.setActive(null!=(o=a.name)?o:d.value,s);t("click",e)},v=()=>l.icon?l.icon({active:c.value}):a.icon?o(X,{name:a.icon,classPrefix:a.iconPrefix},null):void 0;return()=>{var{dot:e,badge:t}=a,{activeColor:n,inactiveColor:r}=u.props,s=c.value?n:r;return o("div",{role:"tab",class:Q({active:c.value}),style:{color:s},tabindex:0,"aria-selected":c.value,onClick:m},[o(L,{dot:e,content:t,class:Q("icon")},{default:v}),o("div",{class:Q("text")},[null==l.default?void 0:l.default({active:c.value})])])}}}}));const T=l({setup(e){const t=s(),o=i([{name:"分类",path:"/mobile/category",routeName:"mobile-category",icon:u,dot:!1,badge:""},{name:"定制",path:"/mobile/customization",routeName:"mobile-customization",icon:d,dot:!1,badge:""},{name:"购物车",path:"/mobile/cart",routeName:"mobile-cart",icon:c,dot:!1,badge:""},{name:"我的",path:"/mobile/user",routeName:"mobile-user",icon:m,dot:!1,badge:""}]),l=a(t.name);return v((()=>t.name),(a=>{l.value=a})),(a,e)=>{const t=R,n=M;return p(),b(n,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:"!tw-fixed"},{default:f((()=>[(p(!0),g(k,null,h(B(o),(a=>(p(),b(t,{key:a.name,name:a.routeName,to:a.path,dot:a.dot,badge:a.badge},{icon:f((({active:e})=>[(p(),b(x(a.icon),{class:y(e&&"tw-text-primary")},null,8,["class"]))])),default:f((()=>[C("span",null,V(a.name),1)])),_:2},1032,["name","to","dot","badge"])))),128))])),_:1},8,["modelValue"])}}});export{T as _,E as u};
