!function(){var e=document.createElement("style");e.innerHTML='.van-checkbox-group--horizontal{display:flex;flex-wrap:wrap}:root{--van-checkbox-size:20px;--van-checkbox-border-color:var(--van-gray-5);--van-checkbox-transition-duration:var(--van-animation-duration-fast);--van-checkbox-label-margin:var(--van-padding-xs);--van-checkbox-label-color:var(--van-text-color);--van-checkbox-checked-icon-color:var(--van-primary-color);--van-checkbox-disabled-icon-color:var(--van-gray-5);--van-checkbox-disabled-label-color:var(--van-text-color-3);--van-checkbox-disabled-background-color:var(--van-border-color)}.van-checkbox{align-items:center;cursor:pointer;display:flex;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.van-checkbox--disabled{cursor:not-allowed}.van-checkbox--label-disabled{cursor:default}.van-checkbox--horizontal{margin-right:var(--van-padding-sm)}.van-checkbox__icon{cursor:pointer;flex:none;font-size:var(--van-checkbox-size);height:1em;line-height:1em}.van-checkbox__icon .van-icon{border:1px solid var(--van-checkbox-border-color);box-sizing:border-box;color:transparent;display:block;font-size:.8em;height:1.25em;line-height:1.25;text-align:center;transition-duration:var(--van-checkbox-transition-duration);transition-property:color,border-color,background-color;width:1.25em}.van-checkbox__icon--round .van-icon{border-radius:100%}.van-checkbox__icon--checked .van-icon{background-color:var(--van-checkbox-checked-icon-color);border-color:var(--van-checkbox-checked-icon-color);color:var(--van-white)}.van-checkbox__icon--disabled{cursor:not-allowed}.van-checkbox__icon--disabled .van-icon{background-color:var(--van-checkbox-disabled-background-color);border-color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__icon--disabled.van-checkbox__icon--checked .van-icon{color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__label{color:var(--van-checkbox-label-color);line-height:var(--van-checkbox-size);margin-left:var(--van-checkbox-label-margin)}.van-checkbox__label--left{margin:0 var(--van-checkbox-label-margin) 0 0}.van-checkbox__label--disabled{color:var(--van-checkbox-disabled-label-color)}._input_77e7o_2{max-width:100%;padding-top:1.25rem}._input_77e7o_2 ._control_77e7o_5{align-items:center;display:flex;flex-grow:1;margin-bottom:.25rem;position:relative}._input_77e7o_2 ._control_77e7o_5:hover{border-color:var(--color-primary)}._input_77e7o_2 ._control_77e7o_5:after,._input_77e7o_2 ._control_77e7o_5:before{bottom:0;content:"";left:0;position:absolute;right:0;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(0,0,.2,1)}._input_77e7o_2 ._control_77e7o_5:before{border-bottom-width:thin;border-color:inherit}._input_77e7o_2 ._control_77e7o_5:after{--tw-scale-x:0;--tw-scale-y:0;border-bottom-width:2px;border-color:inherit;transform:var(--tw-transform)}._input_77e7o_2 ._controlActive_77e7o_29:after{--tw-scale-x:1;--tw-scale-y:1;transform:var(--tw-transform)}._input_77e7o_2 label{color:var(--color-primary);height:1.5rem;left:0;line-height:1.5rem;margin-left:.5rem;position:absolute;transform-origin:top left;transition-duration:.5s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}._input_77e7o_2 ._labelActive_77e7o_42{--tw-translate-y:-1.5rem;--tw-scale-x:.75;--tw-scale-y:.75;transform:var(--tw-transform)}._input_77e7o_2 input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;flex-grow:1;line-height:1.5;padding:.5rem;width:100%}._input_77e7o_2 input::-moz-placeholder{color:var(--color-medium)}._input_77e7o_2 input:-ms-input-placeholder{color:var(--color-medium)}._input_77e7o_2 input::placeholder{color:var(--color-medium)}._input_77e7o_2 input:focus{outline:2px solid transparent;outline-offset:2px}\n',document.head.appendChild(e),System.register(["./vendor-legacy.0ffd2f3d.js","./index-legacy.12522fa4.js","./useFormField-legacy.68f9069b.js","./index-legacy.32c4d29f.js","./index-legacy.ee1915e8.js","./index-legacy.da537945.js","./index-legacy.f573e181.js","./index-legacy.bd202658.js","./use-route-legacy.dd0a34ee.js","./interceptor-legacy.07c48f62.js"],(function(e){"use strict";var o,a,l,t,r,n,i,c,s,d,u,p,b,v,m,h,f,g,k,_,x,y,w,C,S,z,V,O,B,j,A,L,$,E,P,T,G,D,F,M,I,U,q,N,H,X,J,K,Z,Q,R,W,Y,ee,oe,ae;return{setters:[function(e){o=e.a2,a=e.aT,l=e.d,t=e.ag,r=e.aa,n=e.b0,i=e.f,c=e.a8,s=e.l,d=e.b1,u=e.n,p=e.p,b=e.aX,v=e.b9,m=e.o,h=e.a,f=e.e,g=e.L,k=e.a4,_=e.aZ,x=e.aq,y=e.a7,w=e.t,C=e.g,S=e.k,z=e.m,V=e.ac,O=e.ba,B=e.ae,j=e.r,A=e.w},function(e){L=e.B},function(e){$=e.u},function(e){E=e._},function(){},function(e){P=e.a,T=e.P},function(e){G=e.g,D=e.o,F=e.e,M=e.l,I=e.n,U=e.b,q=e.u,N=e.I,H=e.i,X=e.J,J=e.w,K=e.a,Z=e.m,Q=e.t,R=e.F,W=e.h,Y=e.K,ee=e.c,oe=e.d},function(e){ae=e.L},function(){},function(){}],execute:function(){var le=0;var[te,re]=F("toast"),ne=["show","overlay","transition","overlayClass","overlayStyle","closeOnClickOverlay"],ie={icon:String,show:Boolean,type:M("text"),overlay:Boolean,message:I,iconSize:I,duration:U(2e3),position:M("middle"),className:q,iconPrefix:String,transition:M("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:q,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},ce=l({name:te,props:ie,emits:["update:show"],setup(e,o){var a,{emit:l}=o,s=!1,d=()=>{var o=e.show&&e.forbidClick;s!==o&&((s=o)?(le||document.body.classList.add("van-toast--unclickable"),le++):le&&(--le||document.body.classList.remove("van-toast--unclickable")))},u=e=>l("update:show",e),p=()=>{e.closeOnClick&&u(!1)},b=()=>clearTimeout(a),v=()=>{var{icon:o,type:a,iconSize:l,iconPrefix:t,loadingType:r}=e;return o||"success"===a||"fail"===a?i(N,{name:o||a,size:l,class:re("icon"),classPrefix:t},null):"loading"===a?i(ae,{class:re("loading"),size:l,type:r},null):void 0},m=()=>{var{type:o,message:a}=e;if(H(a)&&""!==a)return"html"===o?i("div",{class:re("text"),innerHTML:String(a)},null):i("div",{class:re("text")},[a])};return t((()=>[e.show,e.forbidClick]),d),t((()=>[e.show,e.type,e.message,e.duration]),(()=>{b(),e.show&&e.duration>0&&(a=setTimeout((()=>{u(!1)}),e.duration))})),r(d),n(d),()=>i(T,c({class:[re([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:p,onClosed:b,"onUpdate:show":u},D(e,ne)),{default:()=>[v(),m()]})}}),se={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},de=[],ue=!1,pe=G({},se),be=new Map;function ve(e){return K(e)?e:{message:e}}function me(){var e,l,{instance:r,unmount:n}=(e=o({setup(){var e=s(""),{open:o,state:l,close:u,toggle:p}=function(){var e=a({show:!1}),o=o=>{e.show=o},l=a=>{G(e,a,{transitionAppear:!0}),o(!0)},t=()=>o(!1);return P({open:l,close:t,toggle:o}),{open:l,close:t,state:e,toggle:o}}(),b=()=>{ue&&(de=de.filter((e=>e!==r)),n())};return t(e,(e=>{l.message=e})),d().render=()=>i(ce,c(l,{onClosed:b,"onUpdate:show":p}),null),{open:o,clear:u,message:e}}}),l=document.createElement("div"),document.body.appendChild(l),{instance:e.mount(l),unmount(){e.unmount(),document.body.removeChild(l)}});return r}function he(e){if(void 0===e&&(e={}),!X)return{};var o=function(){if(!de.length||ue){var e=me();de.push(e)}return de[de.length-1]}(),a=ve(e);return o.open(G({},pe,be.get(a.type||pe.type),a)),o}var fe=e=>o=>he(G({type:e},ve(o)));he.loading=fe("loading"),he.success=fe("success"),he.fail=fe("fail"),he.clear=e=>{if(de.length)if(e)de.forEach((e=>{e.clear()})),de=[];else if(ue){var o;null==(o=de.shift())||o.clear()}else de[0].clear()},he.setDefaultOptions=function(e,o){"string"==typeof e?be.set(e,o):G(pe,e)},he.resetDefaultOptions=e=>{"string"==typeof e?be.delete(e):(pe=G({},se),be.clear())},he.allowMultiple=function(e){void 0===e&&(e=!0),ue=e},he.install=e=>{e.use(J(ce)),e.config.globalProperties.$toast=he};var ge={name:q,shape:M("round"),disabled:Boolean,iconSize:I,modelValue:q,checkedColor:String,labelPosition:String,labelDisabled:Boolean},ke=l({props:G({},ge,{bem:Z(Function),role:String,parent:Object,checked:Boolean,bindGroup:Q}),emits:["click","toggle"],setup(e,o){var{emit:a,slots:l}=o,t=s(),r=o=>{if(e.parent&&e.bindGroup)return e.parent.props[o]},n=u((()=>r("disabled")||e.disabled)),c=u((()=>r("direction"))),d=u((()=>{var o=e.checkedColor||r("checkedColor");if(o&&e.checked&&!n.value)return{borderColor:o,backgroundColor:o}})),p=o=>{var{target:l}=o,r=t.value,i=r===l||(null==r?void 0:r.contains(l));n.value||!i&&e.labelDisabled||a("toggle"),a("click",o)},b=()=>{var{bem:o,shape:a,checked:c}=e,s=e.iconSize||r("iconSize");return i("div",{ref:t,class:o("icon",[a,{disabled:n.value,checked:c}]),style:{fontSize:R(s)}},[l.icon?l.icon({checked:c,disabled:n.value}):i(N,{name:"success",style:d.value},null)])},v=()=>{if(l.default)return i("span",{class:e.bem("label",[e.labelPosition,{disabled:n.value}])},[l.default()])};return()=>{var o="left"===e.labelPosition?[v(),b()]:[b(),v()];return i("div",{role:e.role,class:e.bem([{disabled:n.value,"label-disabled":e.labelDisabled},c.value]),tabindex:n.value?void 0:0,"aria-checked":e.checked,onClick:p},[o])}}}),[_e,xe]=F("checkbox-group"),ye={max:I,disabled:Boolean,iconSize:I,direction:String,modelValue:ee(),checkedColor:String},we=Symbol(_e);l({name:_e,props:ye,emits:["change","update:modelValue"],setup(e,o){var{emit:a,slots:l}=o,{children:r,linkChildren:n}=W(we),c=e=>a("update:modelValue",e);return t((()=>e.modelValue),(e=>a("change",e))),P({toggleAll:function(e){void 0===e&&(e={}),"boolean"==typeof e&&(e={checked:e});var{checked:o,skipDisabled:a}=e,l=r.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=o?o:!e.checked.value))).map((e=>e.name));c(l)}}),Y((()=>e.modelValue)),n({props:e,updateValue:c}),()=>i("div",{class:xe([e.direction])},[null==l.default?void 0:l.default()])}});var[Ce,Se]=F("checkbox"),ze=G({},ge,{bindGroup:Q}),Ve=l({name:Ce,props:ze,emits:["change","update:modelValue"],setup(e,o){var{emit:a,slots:l}=o,{parent:r}=oe(we),n=u((()=>r&&e.bindGroup?-1!==r.props.modelValue.indexOf(e.name):!!e.modelValue)),s=function(o){void 0===o&&(o=!n.value),r&&e.bindGroup?(o=>{var{name:a}=e,{max:l,modelValue:t}=r.props,n=t.slice();if(o)l&&n.length>=l||n.includes(a)||(n.push(a),e.bindGroup&&r.updateValue(n));else{var i=n.indexOf(a);-1!==i&&(n.splice(i,1),e.bindGroup&&r.updateValue(n))}})(o):a("update:modelValue",o)};return t((()=>e.modelValue),(e=>a("change",e))),P({toggle:s,props:e,checked:n}),Y((()=>e.modelValue)),()=>i(ke,c({bem:Se,role:"checkbox",parent:r,checked:n.value,onToggle:s},e),D(l,["default","icon"]))}}),Oe=J(Ve);var Be={input:"_input_77e7o_2",control:"_control_77e7o_5",controlActive:"_controlActive_77e7o_29",labelActive:"_labelActive_77e7o_42"};const je=["for"],Ae=["id","value","placeholder"],Le={key:1,class:"tw-ml-auto tw-pl-1 tw-flex-shrink-0"},$e={key:0,class:"tw-absolute tw-top-full tw-left-0"},Ee={class:"tw-px-2 tw-text-xs tw-text-red-500 tw-font-medium tw-leading-none"},Pe=l({inheritAttrs:!1}),Te=l({...Pe,props:{name:null,label:{default:""},showLabel:{type:Boolean,default:!1},placeholder:{default:""},showValidationError:{type:Boolean,default:!0},wrapperClass:{default:void 0}},emits:["focus","blur","input","change"],setup(e,{emit:o}){const a=e,l=s(null),t=v(),r=u((()=>!(!t.label&&!a.label))),{listeners:n,errorMessage:i,value:d,meta:p}=$({name:a.name,label:a.label}),b=s(!1),S=()=>{b.value=!0,o("focus")},z=e=>{n.value.onBlur(e),b.value=!1,o("blur")},V=e=>{n.value["onUpdate:modelValue"](e),o("input",e.target.value)},O=e=>{n.value.onChange(e),o("change",e.target.value)},B=u((()=>b.value||p.dirty&&d.value||a.placeholder));return(o,a)=>(m(),h("div",{class:k([o.$style.input,e.wrapperClass,e.showValidationError&&"tw-relative tw-mb-4"])},[f("div",{class:k({[o.$style.control]:!0,[o.$style.controlActive]:b.value})},[e.showLabel&&g(r)?(m(),h("label",{key:0,class:k({[o.$style.labelActive]:g(B)}),for:e.name,onClick:a[0]||(a[0]=e=>l.value.focus()),onTouchstart:a[1]||(a[1]=_((e=>l.value.focus()),["stop"]))},[x(o.$slots,"label",{},(()=>[f("span",null,w(e.label),1)]))],42,je)):y("",!0),f("input",c({id:e.name,ref_key:"input",ref:l,value:g(d),placeholder:e.placeholder},o.$attrs,{onFocus:S,onBlur:z,onInput:V,onChange:O}),null,16,Ae),o.$slots.append?(m(),h("div",Le,[x(o.$slots,"append")])):y("",!0)],2),e.showValidationError&&g(i)?(m(),h("p",$e,[f("span",Ee,[x(o.$slots,"error",{error:g(i)},(()=>[C(w(g(i)),1)]))])])):y("",!0)],2))}}),Ge={};Ge.$style=Be;var De=E(Te,[["__cssModules",Ge]]);const Fe=S("mobile-auth",(()=>{const e=s({user:z("hsop_auth_mobile_user",{mobile:"13312331233"})}),o=u((()=>e.value.user)),a=u((()=>o.value.mobile)),l=u((()=>!!a.value)),t=s(!1),r=s(""),n=u((()=>!!r.value));return{user:o,mobile:a,isLoggedIn:l,loginError:r,hasLoginError:n,isLoginPending:t,login:async o=>{t.value=!0,r.value="";try{if(console.log(o),await p(1e3),"123456"!==o.authCode)throw new Error("wrong auth info");e.value.user={mobile:o.mobile}}catch(a){console.error(a),r.value=a.message}finally{t.value=!1}},logout:()=>{e.value.user={},r.value=""}}}));var Me={};const Ie={class:"tw-flex tw-flex-col tw-h-screen tw-pt-[15vh] tw-pb-8 tw-px-8"},Ue=f("header",null,[f("h3",{class:"tw-py-3 tw-text-2xl tw-font-bold"},"手机快捷登录"),f("p",{class:"tw-text-sm tw-text-medium"},"未注册过的手机号将自动创建账号")],-1),qe=["onClick"],Ne={class:"tw-mt-16 tw-text-center"},He={class:"tw-mt-auto tw-flex tw-justify-center tw-text-xs"},Xe={class:""},Je=C(" 登录即代表同意 "),Ke=C(" 《用户协议》 "),Ze=C(" 和 "),Qe=C(" 《隐私政策》 "),Re=e("default",l({setup(e){const{values:o,validateField:a,isSubmitting:l,handleSubmit:r}=V({validationSchema:{mobile:"required|mobile",authCode:"required|numeric|max:6"},initialValues:{mobile:"",authCode:""}}),n=s(10),{isActive:c,pause:d,resume:v}=O((()=>{n.value--,n.value<=0&&d()}),1e3,{immediate:!1,immediateCallback:!0}),x=u((()=>c.value?`${n.value}s后重新获取`:"获取验证码")),y=async()=>{const{valid:e}=await a("mobile");e&&(c.value||(n.value=10,await(async e=>(console.log(e),await p(1e3),b(1e3)))(o.mobile),v()))},S=s(!1),z=s(""),$=()=>{z.value=""},E=Fe();t((()=>E.loginError),(e=>{e&&he.fail(e)}));const P=B(),T=r((async e=>{if(!S.value)return he("请先阅读并同意用户协议和隐私政策"),void(z.value="animate__animated animate__shakeX");z.value="",await E.login(e),E.isLoggedIn&&P.replace({name:"mobile"})}));return(e,o)=>{const a=De,t=L,r=j("router-link"),n=Oe;return m(),h("article",Ie,[Ue,f("form",{class:"tw-mt-12",onSubmit:o[0]||(o[0]=_((()=>{}),["prevent"]))},[i(a,{name:"mobile",label:"手机号",type:"text",inputmode:"numeric",maxlength:"11",pattern:"^1\\d{10}",placeholder:"请输入手机号"}),i(a,{name:"authCode",label:"验证码",type:"text",inputmode:"numeric",autocomplete:"one-time-code",maxlength:"6",pattern:"\\d{6}",placeholder:"请输入验证码"},{append:A((()=>[f("a",{class:k(g(c)?"tw-text-slate-400/75":"tw-text-primary"),onClick:_(y,["prevent"])},w(g(x)),11,qe)])),_:1}),f("div",Ne,[i(t,{class:"tw-w-11/12",type:"primary",round:"",loading:g(l),onClick:g(T)},{default:A((()=>[C(w(g(l)?"登录中...":"登录"),1)])),_:1},8,["loading","onClick"])])],32),f("footer",He,[i(n,{modelValue:S.value,"onUpdate:modelValue":o[1]||(o[1]=e=>S.value=e),class:k(z.value),"icon-size":"16px",onAnimationend:$},{default:A((()=>[f("span",Xe,[Je,i(r,{class:"tw-text-primary",to:"/mobile/user-agreement"},{default:A((()=>[Ke])),_:1}),Ze,i(r,{class:"tw-text-primary",to:"/mobile/privacy-policy"},{default:A((()=>[Qe])),_:1})])])),_:1},8,["modelValue","class"])])])}}}));"function"==typeof Me&&Me(Re)}}}))}();
