import{l as a,aa as e,aU as t,f as o,d as l,aZ as n,n as r,af as s,ax as i,bj as u,bk as d,b9 as c,bl as m,ag as v,o as p,c as b,w as f,a as g,b as h,av as x,a4 as y,e as C,t as V,L as k,F as B}from"./vendor.cae3e354.js";import{x as j,f as I,c as N,t as S,n as w,l as z,E as A,X as P,w as _,u as F,j as U,R as $,e as E,r as K,K as L,I as R}from"./index.b05a476a.js";import{c as X}from"./interceptor.8fc59063.js";function Z(l,n){var r=(o=>{var l=a();return e((()=>t((()=>{l.value=j(o).height})))),l})(l);return a=>o("div",{class:n("placeholder"),style:{height:r.value?r.value+"px":void 0}},[a()])}var[q,D]=N("tabbar"),G={route:Boolean,fixed:S,border:S,zIndex:w,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:z(0),safeAreaInsetBottom:{type:Boolean,default:null}},H=Symbol(q),J=_(l({name:q,props:G,emits:["change","update:modelValue"],setup(e,t){var{emit:l,slots:n}=t,r=a(),{linkChildren:s}=I(H),i=Z(r,D),u=()=>{var a,{fixed:t,zIndex:l,border:s}=e;return o("div",{ref:r,role:"tablist",style:A(l),class:[D({fixed:t}),{[P]:s,"van-safe-area-bottom":null!=(a=e.safeAreaInsetBottom)?a:e.fixed}]},[null==n.default?void 0:n.default()])};return s({props:e,setActive:(a,t)=>{X(e.beforeChange,{args:[a],done(){l("update:modelValue",a),l("change",a),t()}})}}),()=>e.fixed&&e.placeholder?i(u):u()}})),[M,O]=N("tabbar-item"),Q=_(l({name:M,props:E({},K,{dot:Boolean,icon:String,name:w,badge:w,iconPrefix:String}),emits:["click"],setup(a,e){var{emit:t,slots:l}=e,s=F(),i=n().proxy,{parent:u,index:d}=U(H);if(u){var c=r((()=>{var e,{route:t,modelValue:o}=u.props;if(t&&"$route"in i){var{$route:l}=i,{to:n}=a,r=L(n)?n:{path:n};return!!l.matched.find((a=>{var e="path"in r&&r.path===a.path,t="name"in r&&r.name===a.name;return e||t}))}return(null!=(e=a.name)?e:d.value)===o})),m=e=>{var o;c.value||u.setActive(null!=(o=a.name)?o:d.value,s);t("click",e)},v=()=>l.icon?l.icon({active:c.value}):a.icon?o(R,{name:a.icon,classPrefix:a.iconPrefix},null):void 0;return()=>{var{dot:e,badge:t}=a,{activeColor:n,inactiveColor:r}=u.props,s=c.value?n:r;return o("div",{role:"tab",class:O({active:c.value}),style:{color:s},tabindex:0,"aria-selected":c.value,onClick:m},[o($,{dot:e,content:t,class:O("icon")},{default:v}),o("div",{class:O("text")},[null==l.default?void 0:l.default({active:c.value})])])}}}}));const T=l({setup(e){const t=s(),o=i([{name:"分类",path:"/mobile/category",routeName:"mobile-category",icon:u,dot:!1,badge:""},{name:"定制",path:"/mobile/customization",routeName:"mobile-customization",icon:d,dot:!1,badge:""},{name:"购物车",path:"/mobile/cart",routeName:"mobile-cart",icon:c,dot:!1,badge:""},{name:"我的",path:"/mobile/user",routeName:"mobile-user",icon:m,dot:!1,badge:""}]),l=a(t.name);return v((()=>t.name),(a=>{l.value=a})),(a,e)=>{const t=Q,n=J;return p(),b(n,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:"!tw-fixed"},{default:f((()=>[(p(!0),g(B,null,h(k(o),(a=>(p(),b(t,{key:a.name,name:a.routeName,to:a.path,dot:a.dot,badge:a.badge},{icon:f((({active:e})=>[(p(),b(x(a.icon),{class:y(e&&"tw-text-primary")},null,8,["class"]))])),default:f((()=>[C("span",null,V(a.name),1)])),_:2},1032,["name","to","dot","badge"])))),128))])),_:1},8,["modelValue"])}}});export{T as _,Z as u};
