!function(){var e=document.createElement("style");e.innerHTML='._input_77e7o_2{max-width:100%;padding-top:1.25rem}._input_77e7o_2 ._control_77e7o_5{align-items:center;display:flex;flex-grow:1;margin-bottom:.25rem;position:relative}._input_77e7o_2 ._control_77e7o_5:hover{border-color:var(--color-primary)}._input_77e7o_2 ._control_77e7o_5:after,._input_77e7o_2 ._control_77e7o_5:before{bottom:0;content:"";left:0;position:absolute;right:0;transition-duration:.3s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(0,0,.2,1)}._input_77e7o_2 ._control_77e7o_5:before{border-bottom-width:thin;border-color:inherit}._input_77e7o_2 ._control_77e7o_5:after{--tw-scale-x:0;--tw-scale-y:0;border-bottom-width:2px;border-color:inherit;transform:var(--tw-transform)}._input_77e7o_2 ._controlActive_77e7o_29:after{--tw-scale-x:1;--tw-scale-y:1;transform:var(--tw-transform)}._input_77e7o_2 label{color:var(--color-primary);height:1.5rem;left:0;line-height:1.5rem;margin-left:.5rem;position:absolute;transform-origin:top left;transition-duration:.5s;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}._input_77e7o_2 ._labelActive_77e7o_42{--tw-translate-y:-1.5rem;--tw-scale-x:.75;--tw-scale-y:.75;transform:var(--tw-transform)}._input_77e7o_2 input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;flex-grow:1;line-height:1.5;padding:.5rem;width:100%}._input_77e7o_2 input::-moz-placeholder{color:var(--color-medium)}._input_77e7o_2 input:-ms-input-placeholder{color:var(--color-medium)}._input_77e7o_2 input::placeholder{color:var(--color-medium)}._input_77e7o_2 input:focus{outline:2px solid transparent;outline-offset:2px}\n',document.head.appendChild(e),System.register(["./vendor-legacy.a2d7269a.js","./index-legacy.eeea84a6.js","./useFormField-legacy.db0fe05e.js","./index-legacy.e2527bd7.js","./index-legacy.fa22f2bf.js","./function-call-legacy.6b407d2e.js","./index-legacy.a9020a9c.js","./index-legacy.38433af3.js","./on-popup-reopen-legacy.ce7ff038.js","./interceptor-legacy.247dd095.js"],(function(e){"use strict";var t,o,a,l,r,n,i,c,s,u,d,p,m,f,b,_,w,v,g,h,y,x,k,C,A,L,$,j,I;return{setters:[function(e){t=e.p,o=e.aZ,a=e.d,l=e.l,r=e.bj,n=e.n,i=e.o,c=e.a,s=e.e,u=e.L,d=e.a4,p=e.ba,m=e.aq,f=e.a7,b=e.a8,_=e.t,w=e.g,v=e.ag,g=e.ac,h=e.bk,y=e.ae,x=e.f,k=e.w},function(e){C=e.C},function(e){A=e.u},function(e){L=e._,$=e.a},function(){},function(e){j=e.T},function(e){I=e.B},function(){},function(){},function(){}],execute:function(){var V={input:"_input_77e7o_2",control:"_control_77e7o_5",controlActive:"_controlActive_77e7o_29",labelActive:"_labelActive_77e7o_42"};const z=["for"],B=["id","value","placeholder"],E={key:1,class:"tw-ml-auto tw-pl-1 tw-flex-shrink-0"},S={key:0,class:"tw-absolute tw-top-full tw-left-0"},F={class:"tw-px-2 tw-text-xs tw-text-red-500 tw-font-medium tw-leading-none"},U=a({inheritAttrs:!1}),q=a({...U,props:{name:null,label:{default:""},showLabel:{type:Boolean,default:!1},placeholder:{default:""},showValidationError:{type:Boolean,default:!0},wrapperClass:{default:void 0}},emits:["focus","blur","input","change"],setup(e,{emit:t}){const o=e,a=l(null),v=r(),g=n((()=>!(!v.label&&!o.label))),{listeners:h,errorMessage:y,value:x,meta:k}=A({name:o.name,label:o.label}),C=l(!1),L=()=>{C.value=!0,t("focus")},$=e=>{h.value.onBlur(e),C.value=!1,t("blur")},j=e=>{h.value["onUpdate:modelValue"](e),t("input",e.target.value)},I=e=>{h.value.onChange(e),t("change",e.target.value)},V=n((()=>C.value||k.dirty&&x.value||o.placeholder));return(t,o)=>(i(),c("div",{class:d([t.$style.input,e.wrapperClass,e.showValidationError&&"tw-relative tw-mb-4"])},[s("div",{class:d({[t.$style.control]:!0,[t.$style.controlActive]:C.value})},[e.showLabel&&u(g)?(i(),c("label",{key:0,class:d({[t.$style.labelActive]:u(V)}),for:e.name,onClick:o[0]||(o[0]=e=>a.value.focus()),onTouchstart:o[1]||(o[1]=p((e=>a.value.focus()),["stop"]))},[m(t.$slots,"label",{},(()=>[s("span",null,_(e.label),1)]))],42,z)):f("",!0),s("input",b({id:e.name,ref_key:"input",ref:a,value:u(x),placeholder:e.placeholder},t.$attrs,{onFocus:L,onBlur:$,onInput:j,onChange:I}),null,16,B),t.$slots.append?(i(),c("div",E,[m(t.$slots,"append")])):f("",!0)],2),e.showValidationError&&u(y)?(i(),c("p",S,[s("span",F,[m(t.$slots,"error",{error:u(y)},(()=>[w(_(u(y)),1)]))])])):f("",!0)],2))}}),M={};M.$style=V;var T=L(q,[["__cssModules",M]]),H={};const X={class:"tw-flex tw-flex-col tw-h-screen tw-pt-[15vh] tw-pb-8 tw-px-8"},Z=s("header",null,[s("h3",{class:"tw-py-3 tw-text-2xl tw-font-bold"},"手机快捷登录"),s("p",{class:"tw-text-sm tw-text-medium"},"未注册过的手机号将自动创建账号")],-1),D=["onClick"],G={class:"tw-mt-16 tw-text-center"},J={class:"tw-mt-auto tw-flex tw-justify-center tw-text-xs"},K=w(" 登录即代表同意 "),N=w(" 和 "),O=e("default",a({setup(e){var a,r,m;const f=$();v((()=>f.loginError),(e=>{e&&j.fail(e)}));const{values:b,validateField:A,isSubmitting:L,handleSubmit:V}=g({validationSchema:{mobile:"required|mobile",authCode:"required|numeric|max:6"},initialValues:{mobile:null!==(a=f.stagedLoginInfo.mobile)&&void 0!==a?a:"",authCode:null!==(r=f.stagedLoginInfo.authCode)&&void 0!==r?r:""}});f.$patch((e=>{e.stagedLoginInfo.mobile="",e.stagedLoginInfo.authCode=""}));const z=l(10),{isActive:B,pause:E,resume:S}=h((()=>{z.value--,z.value<=0&&E()}),1e3,{immediate:!1,immediateCallback:!0}),F=n((()=>B.value?`${z.value}s后重新获取`:"获取验证码")),U=async()=>{const{valid:e}=await A("mobile");e&&(B.value||(z.value=10,await(async e=>(await t(1e3),o(1e3)))(b.mobile),j("验证码已发送"),S()))},q=l(null!==(m=f.stagedLoginInfo.isUserAgreementChecked)&&void 0!==m&&m),M=l(""),H=()=>{M.value=""},O=y(),P=e=>{f.$patch((e=>{e.stagedLoginInfo.mobile=b.mobile,e.stagedLoginInfo.authCode=b.authCode,e.stagedLoginInfo.isUserAgreementChecked=q.value})),O.push({name:e})},Q=V((async e=>{if(!q.value)return j("请先阅读并同意用户协议和隐私政策"),void(M.value="animate__animated animate__shakeX");M.value="",await f.login(e),f.isLoggedIn&&O.replace({name:"mobile"})}));return(e,t)=>{const o=T,a=I,l=C;return i(),c("article",X,[Z,s("form",{class:"tw-mt-12",onSubmit:t[0]||(t[0]=p((()=>{}),["prevent"]))},[x(o,{name:"mobile",label:"手机号",type:"text",inputmode:"numeric",maxlength:"11",pattern:"^1\\d{10}",placeholder:"请输入手机号"}),x(o,{name:"authCode",label:"验证码",type:"text",inputmode:"numeric",autocomplete:"one-time-code",maxlength:"6",pattern:"\\d{6}",placeholder:"请输入验证码"},{append:k((()=>[s("a",{class:d(u(B)?"tw-text-slate-400/75":"tw-text-primary"),onClick:p(U,["prevent"])},_(u(F)),11,D)])),_:1}),s("div",G,[x(a,{class:"tw-w-11/12",type:"primary",round:"",loading:u(L),onClick:u(Q)},{default:k((()=>[w(_(u(L)?"登录中...":"登录"),1)])),_:1},8,["loading","onClick"])])],32),s("footer",J,[x(l,{modelValue:q.value,"onUpdate:modelValue":t[3]||(t[3]=e=>q.value=e),class:d(M.value),"icon-size":"16px",onAnimationend:H},{default:k((()=>[s("span",null,[K,s("a",{class:"tw-text-primary",onClick:t[1]||(t[1]=p((e=>P("mobile-user-agreement")),["prevent"]))}," 《用户协议》 "),N,s("a",{class:"tw-text-primary",onClick:t[2]||(t[2]=p((e=>P("mobile-privacy-policy")),["prevent"]))}," 《隐私政策》 ")])])),_:1},8,["modelValue","class"])])])}}}));"function"==typeof H&&H(O)}}}))}();
