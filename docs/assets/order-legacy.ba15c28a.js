System.register(["./PageFooter-legacy.e0527439.js","./vendor-legacy.a2d7269a.js","./index-legacy.eeea84a6.js","./index-legacy.bb9b7a5c.js","./index-legacy.1a48ac8b.js","./index-legacy.4d6ca972.js","./CartList-legacy.c9ee6c2e.js","./index-legacy.a908397c.js","./product-legacy.4590c8cf.js","./index-legacy.cb0a2208.js","./order-legacy.710fdc71.js","./index-legacy.a9020a9c.js","./index-legacy.e2527bd7.js","./index-legacy.38433af3.js","./on-popup-reopen-legacy.ce7ff038.js","./CartItem-legacy.69773a30.js","./index-legacy.01a7a724.js","./function-call-legacy.6b407d2e.js","./interceptor-legacy.247dd095.js","./product-legacy.3d61f3ba.js","./usePaginatedList-legacy.b34ba625.js","./index-legacy.fa22f2bf.js","./useAxios-legacy.97e1062a.js","./math-legacy.0b21c3d7.js"],(function(e){"use strict";var t,a,n,l,r,c,o,s,i,u,d,f,g,m,y,p,b,j,v,x,w,O,I,h,k,_,C,P;return{setters:[function(e){t=e._},function(e){a=e.n,n=e.aX,l=e.L,r=e.af,c=e.ae,o=e.d,s=e.l,i=e.bl,u=e.r,d=e.o,f=e.a,g=e.c,m=e.f,y=e.w,p=e.e,b=e.t,j=e.g},function(e){v=e.C},function(e){x=e.C},function(e){w=e.C},function(e){O=e.F},function(e){I=e._},function(e){h=e.E},function(e){k=e.u},function(e){_=e.u},function(e){C=e.u},function(e){P=e.B},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var A=Object.defineProperty,S=Object.defineProperties,V=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,B=(e,t,a)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,F=(e,t)=>{for(var a in t||(t={}))E.call(t,a)&&B(e,a,t[a]);if(q)for(var a of q(t))L.call(t,a)&&B(e,a,t[a]);return e},U={};const $={class:"tw-article tw-article_has-footer"},z=j(" ￥ "),D={class:"tw-font-semibold"},T=p("span",null,[j(" ￥ "),p("strong",{class:"tw-font-semibold"}," -- ")],-1),X=j(" 我已认真阅读并同意 "),G=j(" 《服务协议》 "),H=j(" 合计： ￥ "),J={class:"tw-font-semibold"},K=j(" 订单提交 "),M=e("default",o({setup(e){var o,j;const A=function(e,t,{mode:o="replace",route:s=r(),router:i=c()}={}){return a({get(){const a=s.query[e];return null==a?null!=t?t:null:Array.isArray(a)?a.filter(Boolean):a},set(t){n((()=>{var a,n;i[l(o)]({query:(a=F({},s.query),n={[e]:t},S(a,V(n)))})}))}})}("productId"),q=k(),E=_(),L=C();q.isItemsEmpty&&q.getItems();const B=a((()=>A.value?q.items.find((e=>String(e.id)===A.value)):null)),U=a((()=>B.value?[{...B.value,quantity:1}]:E.checkedItems)),M=a((()=>!U.value.length&&!q.isItemsEmpty)),N=a((()=>B.value?B.value.price:E.checkedTotalPrice)),Q=s(null!==(o=E.stagedOrderInfo.remarks)&&void 0!==o?o:""),R=s(null!==(j=E.stagedOrderInfo.isServiceAgreementChecked)&&void 0!==j&&j);return L.clearOrderInfo(),i((e=>{["mobile-service-agreement","mobile-address"].includes(e.name)?(E.$patch((e=>{e.stagedOrderInfo.remarks=Q.value,e.stagedOrderInfo.isServiceAgreementChecked=R.value})),"mobile-address"===e.name&&L.updateOrderInfo({items:U.value})):E.$patch((e=>{e.stagedOrderInfo.remarks="",e.stagedOrderInfo.isServiceAgreementChecked=!1}))})),(e,a)=>{const n=h,r=I,c=O,o=w,s=x,i=u("router-link"),j=v,k=P,_=t;return d(),f("article",$,[l(M)?(d(),g(n,{key:0,image:"error",description:"出错了"})):(d(),g(r,{key:1,items:l(U),loading:l(q).isItemsLoading,readonly:""},null,8,["items","loading"])),m(s,{class:"!tw-mt-6 !tw-mx-0",inset:""},{default:y((()=>[m(c,{modelValue:Q.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Q.value=e),label:"订单备注",maxlength:"30",placeholder:"请填写备注信息（30字以内）"},null,8,["modelValue"]),m(o,{title:"商品金额"},{default:y((()=>[p("span",null,[z,p("strong",D,b(l(N)),1)])])),_:1}),m(o,{title:"配送+安装费"},{default:y((()=>[T])),_:1})])),_:1}),m(j,{modelValue:R.value,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value=e),class:"tw-mt-6 tw-text-xs tw-justify-center","icon-size":"16px"},{default:y((()=>[X,m(i,{class:"tw-text-primary",to:"/mobile/service-agreement"},{default:y((()=>[G])),_:1})])),_:1},8,["modelValue"]),m(_,null,{default:y((()=>[p("span",null,[H,p("strong",J,b(l(N)),1)]),m(i,{custom:"",to:"/mobile/address"},{default:y((({navigate:e})=>[m(k,{class:"!tw-ml-auto",type:"primary",round:"",disabled:!R.value,onClick:e},{default:y((()=>[K])),_:2},1032,["disabled","onClick"])])),_:1})])),_:1})])}}}));"function"==typeof U&&U(M)}}}));
