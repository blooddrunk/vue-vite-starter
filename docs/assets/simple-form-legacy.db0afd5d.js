System.register(["./vendor-legacy.962c622e.js","./BaseInput-legacy.71ac9641.js","./index-legacy.47cf9b70.js","./useAxios-legacy.6bc4d5be.js","./useFormField-legacy.bb6b5fae.js"],(function(e){"use strict";var t,a,n,i,l,r,o,s,u,d,c,m,p,f,y,v,b,g,_,w,P,h,x,E,S,T,$,q,A,L,V,R,I,k,D,F,N,j,z,B,O,H;return{setters:[function(e){t=e.ax,a=e.l,n=e.n,i=e.p,l=e.ay,r=e.d,o=e.o,s=e.c,u=e.w,d=e.L,c=e.aq,m=e.az,p=e.E,f=e.aA,y=e.aB,v=e.ar,b=e.as,g=e.f,_=e.a,w=e.b,P=e.a8,h=e.F,x=e.aC,E=e.aD,S=e.at,T=e.aE,$=e.aF,q=e.aG,A=e.ac,L=e.e,V=e.g,R=e.aj,I=e.aH,k=e.aI,D=e.aJ,F=e.a6,N=e.aK},function(e){j=e.a,z=e._},function(e){B=e._},function(e){O=e.u,H=e.a},function(){}],execute:function(){const J=r({props:{action:null,confirmText:{default:""},size:{default:"mini"},type:{default:"text"},plain:{type:Boolean,default:!1}},setup(e){const r=e,{isPending:f,execute:y}=((e,r,o={})=>{const s=t(r),u=a(!1),d=a(!1),c=a(null),m=n((()=>d.value&&!c.value)),{immediate:p=!0,onError:f=l,resetOnExecute:y=!0,delay:v=0}=o,b=async(t=0,...a)=>{y&&(s.value=r),u.value=!0,d.value=!1,c.value=null,t>0&&await i(t);const n="function"==typeof e?e(...a):e;try{const e=await n;return s.value=e,e}catch(l){console.error(l),c.value=l,f(l)}finally{u.value=!1,d.value=!0}};return p&&b(v),{isPending:u,isFinished:d,isSuccessful:m,error:c,data:s,execute:b}})(r.action,null,{immediate:!1}),v=async()=>{if(r.confirmText)try{await m.confirm(r.confirmText,"提示",{type:"warning"}),y()}catch(e){}else y()};return(t,a)=>{const n=p;return o(),s(n,{loading:d(f),disabled:d(f),size:e.size,type:e.type,plain:e.plain,onClick:v},{default:u((()=>[d(f)?c(t.$slots,"loading",{key:0}):c(t.$slots,"default",{key:1})])),_:3},8,["loading","disabled","size","type","plain"])}}}),C=r({inheritAttrs:!1}),G=r({...C,props:{items:null},setup(e){const t=e;return(e,a)=>{const n=f,i=y,l=j;return o(),s(l,v(b(e.$attrs)),{default:u((e=>[g(i,v(b(e)),{default:u((()=>[(o(!0),_(h,null,w(t.items,(e=>(o(),s(n,P({key:e.value},e),null,16)))),128))])),_:2},1040)])),_:1},16)}}}),U=r({inheritAttrs:!1}),K=r({...U,props:{items:null},setup(e){const t=e;return(e,a)=>{const n=x,i=E,l=j;return o(),s(l,v(b(e.$attrs)),{default:u((e=>[g(i,v(b(e)),{default:u((()=>[(o(!0),_(h,null,w(t.items,(e=>(o(),s(n,P({key:e.value},e),null,16)))),128))])),_:2},1040)])),_:1},16)}}}),M=r({inheritAttrs:!1});var W=B(M,[["render",function(e,t,a,n,i,l){const r=T,d=j;return o(),s(d,v(b(e.$attrs)),{default:u((t=>[g(r,v(b(t)),S({_:2},[w(e.$slots,((t,a)=>({name:a,fn:u((()=>[c(e.$slots,a)]))})))]),1040)])),_:3},16)}]]);const Q=r({inheritAttrs:!1}),X=r({...Q,setup:e=>(e,t)=>{const a=$,n=j;return o(),s(n,v(b(e.$attrs)),{default:u((({modelValue:t,...n})=>[g(a,P({"model-value":d(q)(t)},n),S({_:2},[w(e.$slots,((t,a)=>({name:a,fn:u((()=>[c(e.$slots,a)]))})))]),1040,["model-value"])])),_:3},16)}}),Y=r({name:"ProductForm",props:{addProduct:{type:Function,required:!0}},emits:{submit:null},setup(e){const{meta:t,isSubmitting:i,handleSubmit:l,resetForm:r}=A({validationSchema:{name:"required|min:5|max:10",price:"required|numeric|min_value:1|max_value:9999999",inventory:"required",terms:"required",tags:"required",location:"required"},initialValues:{name:"233",price:1,inventory:1,terms:!1,tags:["book"],location:""}}),o=n((()=>!t.value.valid&&t.value.dirty)),s=l((async t=>{await e.addProduct(t)}));return{tagList:a([{label:"Phone",value:"phone"},{label:"Book",value:"book"}]),locationList:a([{label:"UP",value:"up"},{label:"DOWN",value:"down"}]),invalid:o,isSubmitting:i,onSubmit:s,onReset:e=>{e.preventDefault(),r()}}}}),Z={class:"tw-max-w-lg tw-p-3 tw-shadow-md"},ee=L("h1",{class:"tw-py-2 tw-text-semibold tw-text-xl tw"},"Enter Product",-1),te=L("span",{class:"tw-text-teal-600"},"Product Name",-1),ae=L("span",{class:"tw-text-blue-600"},"Price",-1),ne=V(" $ "),ie=V("1` "),le=V(" Agree to terms and conditions "),re={class:"tw-flex tw-justify-end tw-py-3"},oe=V("RESET"),se=V(" SUBMIT ");var ue=B(Y,[["render",function(e,t,a,n,i,l){const r=z,s=X,d=W,c=K,m=G,f=p,y=R;return o(),_("div",Z,[ee,g(y,{"status-icon":"",onSubmit:e.onSubmit,onReset:e.onReset},{default:u((()=>[g(r,{name:"name",label:"Product Name",required:""},{label:u((()=>[te])),_:1}),g(r,{name:"price",label:"Price",required:""},{label:u((()=>[ae])),prepend:u((()=>[ne])),_:1}),g(s,{class:"tw-w-full",name:"inventory",label:"Inventory",required:"","controls-position":"right",min:0,max:9999,precision:0},{default:u((()=>[ie])),_:1}),g(d,{name:"terms",label:"Terms","show-label":!1,required:""},{default:u((()=>[le])),_:1}),g(c,{name:"tags",label:"Tags",items:e.tagList},null,8,["items"]),g(m,{name:"location",label:"Location",items:e.locationList,clearable:"",placeholder:"Location"},null,8,["items"]),L("div",re,[g(f,{"native-type":"reset"},{default:u((()=>[oe])),_:1}),g(f,{type:"primary","native-type":"submit",loading:e.isSubmitting,disabled:e.invalid||e.isSubmitting},{default:u((()=>[se])),_:1},8,["loading","disabled"])])])),_:1},8,["onSubmit","onReset"])])}]]),de={};const ce=r({name:"SimpleFormView",setup(){const{products:e,isProductLoading:t,addProduct:a,removeProduct:n}=(()=>{const{data:e,isPending:t,request:a}=O({url:`${{}.VITE_JSON_SERVER_PATH}products`,__needValidation:!1},[],{immediate:!0});return{products:e,isProductLoading:t,addProduct:async t=>{try{const{data:a}=await H.request({url:`${{}.VITE_JSON_SERVER_PATH}products`,method:"post",data:t,__needValidation:!1});console.log(a),e.value.unshift(a)}catch(a){console.error(a),N.error(a.message)}},removeProduct:async t=>{if(t.id)try{await H.delete(`${{}.VITE_JSON_SERVER_PATH}products/${t.id}`,{__needValidation:!1}),e.value=e.value.filter((e=>e.id!==t.id))}catch(a){console.error(a),N.error(a.message)}},fetchProducts:a}})();return{products:e,isProductLoading:t,addProduct:a,getDeleteAction:e=>async()=>{await n(e),N.success("Deleted successfully")}}}}),me=V(" DELETE "),pe=V(" DELETING... ");"function"==typeof de&&de(ce),e("default",B(ce,[["render",function(e,t,a,n,i,l){const r=ue,d=I,c=J,m=k,p=D;return o(),_("section",null,[g(r,{"add-product":e.addProduct},null,8,["add-product"]),F((o(),s(m,{class:"tw-mt-3",data:e.products,"row-key":"id"},{default:u((()=>[g(d,{prop:"id",label:"ID",width:"100"}),g(d,{prop:"name",label:"Product Name"}),g(d,{prop:"price",label:"Product Price",width:"200"}),g(d,{prop:"inventory",label:"Inventory",width:"100"}),g(d,{label:"Action",width:"200"},{default:u((t=>[g(c,{type:"danger",action:e.getDeleteAction(t.row),"confirm-text":"Are you sure?"},{loading:u((()=>[pe])),default:u((()=>[me])),_:2},1032,["action"])])),_:1})])),_:1},8,["data"])),[[p,e.isProductLoading]])])}]]))}}}));
