var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,i)=>{for(var l in i||(i={}))a.call(i,l)&&n(e,l,i[l]);if(t)for(var l of t(i))r.call(i,l)&&n(e,l,i[l]);return e};import{_ as l}from"./index.a9a156c1.js";import{d as s,n as u,o,a as d,a6 as p,c as f,w as c,aq as g,a8 as m,f as v,L as b,aI as y,aR as h,aJ as w,ac as D,E as N,ai as _,aj as T,aH as P,e as S,t as U,g as j}from"./vendor.e60456f3.js";import{_ as z}from"./BaseInput.a877c422.js";import{u as C}from"./usePaginatedList.9bed8c28.js";import{r as x,t as $,f as I}from"./index.e660712d.js";import"./useFormField.8c305caf.js";import"./index.9bc79dd0.js";import"./useAxios.d5dc9735.js";var F={pager:"_pager_q99ba_2"};const M=s({props:{items:{default:()=>[]},loading:{type:Boolean,default:!1},total:{default:0},paginationProps:{default:()=>({})},page:null,updatePage:null,pageSize:null,updatePageSize:null},setup(e){const t=e,a={background:!0,pageSizes:[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper, ->, slot"},r=u((()=>i(i({},a),t.paginationProps)));return(t,a)=>{const n=y,i=h,l=w;return o(),d("div",null,[p((o(),f(n,m({ref:"table",data:e.items},t.$attrs),{default:c((()=>[g(t.$slots,"default")])),_:3},16,["data"])),[[l,e.loading]]),v(i,m({class:[t.$style.pager,"tw-py-3"]},b(r),{total:e.total,"current-page":e.page,"page-size":e.pageSize,"onUpdate:currentPage":e.updatePage,"onUpdate:pageSize":e.updatePageSize}),{default:c((()=>[g(t.$slots,"pagination")])),_:3},16,["class","total","current-page","page-size","onUpdate:currentPage","onUpdate:pageSize"])])}}}),O={};O.$style=F;var H=l(M,[["__cssModules",O]]),Z={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},E=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,R=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q(e){var t,a={},r=e.split(Z.dateTimeDelimiter);if(r.length>2)return a;if(/:/.test(r[0])?(a.date=null,t=r[0]):(a.date=r[0],t=r[1],Z.timeZoneDelimiter.test(a.date)&&(a.date=e.split(Z.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){var n=Z.timezone.exec(t);n?(a.time=t.replace(n[1],""),a.timezone=n[1]):a.time=t}return a}function A(e,t){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:null};var n=r[1]&&parseInt(r[1]),i=r[2]&&parseInt(r[2]);return{year:null==i?n:100*i,restDateString:e.slice((r[1]||r[2]).length)}}function L(e,t){if(null===t)return null;var a=e.match(E);if(!a)return null;var r=!!a[4],n=k(a[1]),i=k(a[2])-1,l=k(a[3]),s=k(a[4]),u=k(a[5])-1;if(r)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,s,u)?function(e,t,a){var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,i=7*(t-1)+a+1-n;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,u):new Date(NaN);var o=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(J[t]||(W(e)?29:28))}(t,i,l)&&function(e,t){return t>=1&&t<=(W(e)?366:365)}(t,n)?(o.setUTCFullYear(t,i,Math.max(n,l)),o):new Date(NaN)}function k(e){return e?parseInt(e):1}function Q(e){var t=e.match(R);if(!t)return null;var a=B(t[1]),r=B(t[2]),n=B(t[3]);return function(e,t,a){if(24===e)return 0===t&&0===a;return a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,r,n)?36e5*a+6e4*r+1e3*n:NaN}function B(e){return e&&parseFloat(e.replace(",","."))||0}function V(e){if("Z"===e)return 0;var t=e.match(Y);if(!t)return 0;var a="+"===t[1]?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?a*(36e5*r+6e4*n):NaN}var J=[31,null,31,30,31,30,31,31,30,31,30,31];function W(e){return e%400==0||e%4==0&&e%100}var G={};const K=j(" QUERY "),X=["href"],ee=s({setup(e){const{values:t,handleSubmit:a}=D({initialValues:{query:"vue"}}),{fetchListAndReset:r,elementTableProps:n,isPending:i}=C({url:"https://hn.algolia.com/api/v1/search",__transformData:e=>({items:null==e?void 0:e.hits,total:null==e?void 0:e.nbHits}),__needValidation:!1},{filter:t,transformPaginationToQuery:e=>({page:e.currentPage.value,hitsPerPage:e.pageSize.value})}),l=a((()=>{r()}));l();const s=e=>I(function(e,t){x(1,arguments);var a=t||{},r=null==a.additionalDigits?2:$(a.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var n,i=q(e);if(i.date){var l=A(i.date,r);n=L(l.restDateString,l.year)}if(isNaN(n)||!n)return new Date(NaN);var s,u=n.getTime(),o=0;if(i.time&&(o=Q(i.time),isNaN(o)||null===o))return new Date(NaN);if(!i.timezone){var d=new Date(u+o),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return s=V(i.timezone),isNaN(s)?new Date(NaN):new Date(u+o+s)}(e),"yyyy-MM-dd HH:ss");return(e,t)=>{const a=z,r=N,u=_,p=T,f=P,g=H;return o(),d("section",null,[v(p,{inline:"",onSubmit:b(l)},{default:c((()=>[v(a,{name:"query",label:"Query","show-label":!1}),v(u,null,{default:c((()=>[v(r,{"native-type":"submit",type:"primary",disabled:b(i),loading:b(i)},{default:c((()=>[K])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["onSubmit"]),v(g,m({class:"tw-mt-3"},b(n)),{default:c((()=>[v(f,{prop:"author",label:"Author",width:"100"}),v(f,{prop:"title",label:"Title"}),v(f,{prop:"url",label:"Link"},{default:c((({row:e})=>[S("a",{class:"tw-text-primary",href:e.url,target:"_blank"},U(e.url),9,X)])),_:1}),v(f,{prop:"created_at",label:"Created At",width:"200"},{default:c((({row:e})=>[j(U(s(e.created_at)),1)])),_:1})])),_:1},16)])}}});"function"==typeof G&&G(ee);export{ee as default};
