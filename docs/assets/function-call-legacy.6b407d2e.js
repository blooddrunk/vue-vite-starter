System.register(["./vendor-legacy.a2d7269a.js","./on-popup-reopen-legacy.ce7ff038.js","./index-legacy.38433af3.js","./interceptor-legacy.247dd095.js","./index-legacy.a9020a9c.js"],(function(e){"use strict";var o,t,n,a,l,s,r,i,c,u,d,v,p,f,m,y,h,g,w,b,k,C,O,S,x,I,z,B,P,L,j,A,T,E,N,D,H,M,R,U,F,V,Y,$,G;return{setters:[function(e){o=e.a$,t=e.b0,n=e.ag,a=e.l,l=e.d,s=e.f,r=e.a5,i=e.a6,c=e.aY,u=e.n,d=e.aa,v=e.b1,p=e.aW,f=e.b2,m=e.F,y=e.a8,h=e.a2,g=e.aV,w=e.b3,b=e.aU},function(e){k=e.a,C=e.u,O=e.P},function(e){S=e.n,x=e.t,I=e.a,z=e.J,B=e.K,P=e.p,L=e.c,j=e.e,A=e.L,T=e.i,E=e.M,N=e.w,D=e.N,H=e.m,M=e.H,R=e.I,U=e.G,F=e.A,V=e.O,Y=e.f},function(e){$=e.c},function(e){G=e.L}],execute:function(){e({T:Ce,m:ie,u:re});var J=e("p",{show:Boolean,zIndex:S,overlay:x,duration:S,teleport:[String,Object],lockScroll:x,lazyRender:x,beforeClose:Function,overlayStyle:Object,overlayClass:I,transitionAppear:Boolean,closeOnClickOverlay:x}),K=(e("a",Object.keys(J)),0),W="van-overflow-hidden";function q(e){var o=a(!1);return n(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}var[Q,X]=L("overlay"),Z={show:Boolean,zIndex:S,duration:S,className:I,lockScroll:x,customStyle:Object},_=l({name:Q,props:Z,setup(e,o){var{slots:t}=o,n=q((()=>e.show)),a=e=>{P(e,!0)},l=n((()=>{var o=j(A(e.zIndex),e.customStyle);return T(e.duration)&&(o.animationDuration=e.duration+"s"),i(s("div",{style:o,class:[X(),e.className],onTouchmove:e.lockScroll?a:E},[null==t.default?void 0:t.default()]),[[c,e.show]])}));return()=>s(r,{name:"van-fade",appear:!0},{default:l})}}),ee=N(_),oe=j({},J,{round:Boolean,position:H("center"),closeIcon:H("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:H("top-right"),safeAreaInsetBottom:Boolean}),[te,ne]=L("popup"),ae=2e3,le=l({name:te,inheritAttrs:!1,props:oe,emits:["open","close","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,l){var h,g,w,b,S,x,I,L,j,{emit:A,attrs:E,slots:N}=l,H=a(),U=a(),F=q((()=>e.show||!e.lazyRender)),V=u((()=>{var o={zIndex:H.value};return T(e.duration)&&(o["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s"),o})),Y=()=>{h||(void 0!==e.zIndex&&(ae=+e.zIndex),h=!0,H.value=++ae,A("open"))},G=()=>{h&&$(e.beforeClose,{done(){h=!1,A("close"),A("update:show",!1)}})},J=o=>{A("click-overlay",o),e.closeOnClickOverlay&&G()},Q=()=>{if(e.overlay)return s(ee,{show:e.show,class:e.overlayClass,zIndex:H.value,duration:e.duration,customStyle:e.overlayStyle,onClick:J},{default:N["overlay-content"]})},X=e=>{A("click-close-icon",e),G()},Z=()=>{if(e.closeable)return s(R,{role:"button",tabindex:0,name:e.closeIcon,class:[ne("close-icon",e.closeIconPosition),M],classPrefix:e.iconPrefix,onClick:X},null)},_=()=>A("opened"),oe=()=>A("closed"),te=F((()=>{var{round:o,position:t,safeAreaInsetBottom:n}=e;return i(s("div",y({ref:U,style:V.value,class:[ne({round:o,[t]:t}),{"van-safe-area-bottom":n}]},E),[null==N.default?void 0:N.default(),Z()]),[[c,e.show]])})),le=()=>{var{position:o,transition:t,transitionAppear:n}=e;return s(r,{name:t||("center"===o?"van-fade":"van-popup-slide-"+o),appear:n,onAfterEnter:_,onAfterLeave:oe},{default:te})};return n((()=>e.show),(e=>{e?Y():(h=!1,A("close"))})),C({popupRef:U}),w=U,b=()=>e.show&&e.lockScroll,S=k(),x=e=>{S.move(e);var o=S.deltaY.value>0?"10":"01",t=B(e.target,w.value),{scrollHeight:n,offsetHeight:a,scrollTop:l}=t,s="11";0===l?s=a>=n?"00":"01":l+a>=n&&(s="10"),"11"===s||!S.isVertical()||parseInt(s,2)&parseInt(o,2)||P(e,!0)},I=()=>{document.addEventListener("touchstart",S.start),document.addEventListener("touchmove",x,{passive:!1}),K||document.body.classList.add(W),K++},L=()=>{K&&(document.removeEventListener("touchstart",S.start),document.removeEventListener("touchmove",x),--K||document.body.classList.remove(W))},j=()=>b()&&L(),z((()=>b()&&I())),o(j),t(j),n(b,(e=>{e?I():L()})),D("popstate",(()=>{e.closeOnPopstate&&(G(),g=!1)})),d((()=>{e.show&&Y()})),v((()=>{g&&(A("update:show",!0),g=!1)})),o((()=>{e.show&&(G(),g=!0)})),p(O,(()=>e.show)),()=>e.teleport?s(f,{to:e.teleport},{default:()=>[Q(),le()]}):s(m,null,[Q(),le()])}}),se=e("P",N(le));function re(){var e=g({show:!1}),o=o=>{e.show=o},t=t=>{j(e,t,{transitionAppear:!0}),o(!0)},n=()=>o(!1);return C({open:t,close:n,toggle:o}),{open:t,close:n,state:e,toggle:o}}function ie(e){var o=h(e),t=document.createElement("div");return document.body.appendChild(t),{instance:o.mount(t),unmount(){o.unmount(),document.body.removeChild(t)}}}var ce=0,[ue,de]=L("toast"),ve=["show","overlay","transition","overlayClass","overlayStyle","closeOnClickOverlay"],pe={icon:String,show:Boolean,type:H("text"),overlay:Boolean,message:S,iconSize:S,duration:F(2e3),position:H("middle"),className:I,iconPrefix:String,transition:H("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:I,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},fe=l({name:ue,props:pe,emits:["update:show"],setup(e,o){var t,{emit:a}=o,l=!1,r=()=>{var o=e.show&&e.forbidClick;l!==o&&((l=o)?(ce||document.body.classList.add("van-toast--unclickable"),ce++):ce&&(--ce||document.body.classList.remove("van-toast--unclickable")))},i=e=>a("update:show",e),c=()=>{e.closeOnClick&&i(!1)},u=()=>clearTimeout(t),v=()=>{var{icon:o,type:t,iconSize:n,iconPrefix:a,loadingType:l}=e;return o||"success"===t||"fail"===t?s(R,{name:o||t,size:n,class:de("icon"),classPrefix:a},null):"loading"===t?s(G,{class:de("loading"),size:n,type:l},null):void 0},p=()=>{var{type:o,message:t}=e;if(T(t)&&""!==t)return"html"===o?s("div",{class:de("text"),innerHTML:String(t)},null):s("div",{class:de("text")},[t])};return n((()=>[e.show,e.forbidClick]),r),n((()=>[e.show,e.type,e.message,e.duration]),(()=>{u(),e.show&&e.duration>0&&(t=setTimeout((()=>{i(!1)}),e.duration))})),d(r),w(r),()=>s(se,y({class:[de([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:u,"onUpdate:show":i},U(e,ve)),{default:()=>[v(),p()]})}}),me={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},ye=[],he=!1,ge=j({},me),we=new Map;function be(e){return Y(e)?e:{message:e}}function ke(){if(!ye.length||he){var e=function(){var{instance:e,unmount:o}=ie({setup(){var t=a(""),{open:l,state:r,close:i,toggle:c}=re(),u=()=>{he&&(ye=ye.filter((o=>o!==e)),o())};return n(t,(e=>{r.message=e})),b().render=()=>s(fe,y(r,{onClosed:u,"onUpdate:show":c}),null),{open:l,clear:i,message:t}}});return e}();ye.push(e)}return ye[ye.length-1]}function Ce(e){if(void 0===e&&(e={}),!V)return{};var o=ke(),t=be(e);return o.open(j({},ge,we.get(t.type||ge.type),t)),o}var Oe=e=>o=>Ce(j({type:e},be(o)));Ce.loading=Oe("loading"),Ce.success=Oe("success"),Ce.fail=Oe("fail"),Ce.clear=e=>{if(ye.length)if(e)ye.forEach((e=>{e.clear()})),ye=[];else if(he){var o;null==(o=ye.shift())||o.clear()}else ye[0].clear()},Ce.setDefaultOptions=function(e,o){"string"==typeof e?we.set(e,o):j(ge,e)},Ce.resetDefaultOptions=e=>{"string"==typeof e?we.delete(e):(ge=j({},me),we.clear())},Ce.allowMultiple=function(e){void 0===e&&(e=!0),he=e},Ce.install=e=>{e.use(N(fe)),e.config.globalProperties.$toast=Ce}}}}));
