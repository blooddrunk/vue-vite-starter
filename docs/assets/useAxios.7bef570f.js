var e=Object.defineProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(a,r,l)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l;import{a as n}from"./index.4a907a91.js";import{ax as o,l as s,n as u,L as c,aL as v,M as i}from"./vendor.cae3e354.js";function p(e,...p){let m={},d={};0===p.length?m={}:1===p.length?["immediate","resetOnRequest","onError"].some((e=>Object.prototype.hasOwnProperty.call(p[0],e)))?d=p[0]:m=p[0]:p.length>1&&(m=p[0],d=p[1]);const{immediate:y=!1,resetOnRequest:b=!1,onError:f}=d,O=o(e),g=s(!1),h=s(!1),j=s(!1),w=s(null),P=s(),q=u((()=>h.value&&!w.value)),k=u((()=>{const e=c(w);return v(e)?e:null==e?void 0:e.message}));let x;const E=async o=>{const s=o?i({},c(m),c(o)):c(m);b&&(O.value=e,P.value=void 0),x=n.CancelToken.source(),g.value=!0,h.value=!1,w.value=null;const u=n.request(((e,n)=>{for(var o in n||(n={}))r.call(n,o)&&t(e,o,n[o]);if(a)for(var o of a(n))l.call(n,o)&&t(e,o,n[o]);return e})({cancelToken:x.token},s));try{return P.value=await u,O.value=P.value.data,x=null,g.value=!1,h.value=!0,O.value}catch(v){console.error(v),w.value=v,g.value=!1,h.value=!0,n.isCancel(v)||(x=null,f&&f(v))}};return y&&E(),{isPending:g,isFinished:h,isSuccessful:q,error:w,errorMessage:k,data:O,response:P,request:E,cancel:e=>{h.value||x&&(x.cancel(e),j.value=!0,g.value=!1,h.value=!1)}}}export{p as u};
