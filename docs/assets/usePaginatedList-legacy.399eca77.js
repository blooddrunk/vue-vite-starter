System.register(["./index-legacy.ee1915e8.js","./useAxios-legacy.c49849ea.js","./vendor-legacy.0ffd2f3d.js"],(function(e){"use strict";var a,t,i,n,o,l,r,s,u;return{setters:[function(e){a=e.t},function(e){t=e.u},function(e){i=e.aR,n=e.l,o=e.n,l=e.ag,r=e.aS,s=e.L,u=e.M}],execute:function(){const g={page:1,rowsPerPage:20},v={page:"page",rowsPerPage:"rowsPerPage"},d=e=>({items:(null==e?void 0:e.items)||[],total:(null==e?void 0:e.total)||0});e("u",((e,{filter:p={},paginationToQuery:c=v,initialItems:P=[],initialTotal:f=0,initialPagination:m=g})=>{const w=n(p),h=n({}),y=n(m),L=o((()=>0===j.value.length)),x=o((()=>({page:1,...y.value}))),j=o((()=>{var e,a;return null!==(e=null===(a=S.value)||void 0===a?void 0:a.items)&&void 0!==e?e:[]})),M=o((()=>{var e,a;return null!==(e=null===(a=S.value)||void 0===a?void 0:a.total)&&void 0!==e?e:0})),b=o((()=>{var e;return M.value?Math.ceil(M.value/(null!==(e=x.value.rowsPerPage)&&void 0!==e?e:1)):1})),A=o((()=>1===x.value.page)),R=o((()=>x.value.page===b.value)),T={...v,...c},q={__transformData:d,...e},E=e=>{y.value={...y.value,...e}},F=e=>{var t;const i=s(x),n={};n[T.page]=i.page,n[T.rowsPerPage]=i.rowsPerPage;const o={...a(s(h)),...n},l=u({},q,e),r="get"===(null!==(t=null==l?void 0:l.method)&&void 0!==t?t:"get").toLowerCase()?{params:o}:{data:o};return{...l,...r}},{data:S,isPending:_,errorMessage:k,request:C}=t(F(),{items:P,total:f},{immediate:!1,resetOnRequest:!1});l(S,(e=>{if(!e||!e.items)throw new Error("[fetchList] expects response data to be an object with 'items' and 'total'(optional) as keys, do you forget to define a proper data transformer?")}));const D=e=>(h.value=r(s(w)),C(F(e)));l(y,(()=>{D()}));const I=o((()=>({items:j.value,total:M.value,loading:_.value,pagination:y.value,updatePagination:E})));return{errorMessage:k,filter:w,lastAppliedFilter:i(h),items:j,total:M,isPending:_,pagination:y,isListEmpty:L,lastPage:b,isFirstPage:A,isLastPage:R,elementTableProps:I,updatePagination:E,resetPagination:()=>{E({page:1})},nextPage:()=>{R.value||E({page:x.value.page+1})},fetchList:D,fetchListAndReset:e=>(y.value.page=1,D(e))}}))}}}));
