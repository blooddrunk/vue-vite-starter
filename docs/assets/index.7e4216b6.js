import{e,z as a,t as l,I as o,j as d,a as i,m as r,n,c as s,q as c,v as u,x as t,h as p,G as b,w as m}from"./index.84f5d824.js";import{u as v}from"./on-popup-reopen.d93741ed.js";import{d as h,l as k,n as f,f as g,ag as V,a8 as x}from"./vendor.e60456f3.js";var S={name:i,shape:r("round"),disabled:Boolean,iconSize:n,modelValue:i,checkedColor:String,labelPosition:String,labelDisabled:Boolean},C=h({props:e({},S,{bem:a(Function),role:String,parent:Object,checked:Boolean,bindGroup:l}),emits:["click","toggle"],setup(e,a){var{emit:l,slots:i}=a,r=k(),n=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},s=f((()=>n("disabled")||e.disabled)),c=f((()=>n("direction"))),u=f((()=>{var a=e.checkedColor||n("checkedColor");if(a&&e.checked&&!s.value)return{borderColor:a,backgroundColor:a}})),t=a=>{var{target:o}=a,d=r.value,i=d===o||(null==d?void 0:d.contains(o));s.value||!i&&e.labelDisabled||l("toggle"),l("click",a)},p=()=>{var{bem:a,shape:l,checked:c}=e,t=e.iconSize||n("iconSize");return g("div",{ref:r,class:a("icon",[l,{disabled:s.value,checked:c}]),style:{fontSize:d(t)}},[i.icon?i.icon({checked:c,disabled:s.value}):g(o,{name:"success",style:u.value},null)])},b=()=>{if(i.default)return g("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[i.default()])};return()=>{var a="left"===e.labelPosition?[b(),p()]:[p(),b()];return g("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},c.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:t},[a])}}}),[G,z]=s("checkbox-group"),j={max:n,disabled:Boolean,iconSize:n,direction:String,modelValue:t(),checkedColor:String},y=Symbol(G);h({name:G,props:j,emits:["change","update:modelValue"],setup(e,a){var{emit:l,slots:o}=a,{children:d,linkChildren:i}=c(y),r=e=>l("update:modelValue",e);return V((()=>e.modelValue),(e=>l("change",e))),v({toggleAll:function(e){void 0===e&&(e={}),"boolean"==typeof e&&(e={checked:e});var{checked:a,skipDisabled:l}=e,o=d.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&l?e.checked.value:null!=a?a:!e.checked.value))).map((e=>e.name));r(o)}}),u((()=>e.modelValue)),i({props:e,updateValue:r}),()=>g("div",{class:z([e.direction])},[null==o.default?void 0:o.default()])}});var[B,D]=s("checkbox"),O=m(h({name:B,props:e({},S,{bindGroup:l}),emits:["change","update:modelValue"],setup(e,a){var{emit:l,slots:o}=a,{parent:d}=p(y),i=f((()=>d&&e.bindGroup?-1!==d.props.modelValue.indexOf(e.name):!!e.modelValue)),r=function(a){void 0===a&&(a=!i.value),d&&e.bindGroup?(a=>{var{name:l}=e,{max:o,modelValue:i}=d.props,r=i.slice();if(a)o&&r.length>=o||r.includes(l)||(r.push(l),e.bindGroup&&d.updateValue(r));else{var n=r.indexOf(l);-1!==n&&(r.splice(n,1),e.bindGroup&&d.updateValue(r))}})(a):l("update:modelValue",a)};return V((()=>e.modelValue),(e=>l("change",e))),v({toggle:r,props:e,checked:i}),u((()=>e.modelValue)),()=>g(C,x({bem:D,role:"checkbox",parent:d,checked:i.value,onToggle:r},e),b(o,["default","icon"]))}}));export{O as C};
